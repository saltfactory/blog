<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Appspresso를 사용하여 하이브리드앱 개발하기 - 2.On The Fly로 디버깅하기</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/appspresso/on-the-fly-in-appspresso.html">
    <link rel="meta" type="application/rdf+xml" title="FOAF" href="/assets/foaf.rdf" />

    

    
      <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8647285-2', 'auto');
ga('send', 'pageview');
</script>

    
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">saltfactory's blog</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
        <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
        h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
        <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
        h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
        <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
        c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
      </svg>
    </a>
    <div class="trigger">
      <a class="page-link" href="http://saltfactory.net">saltfactory.net</a>
      
      <a class="page-link" href="/about/">About</a>
      
      
      
      <a class="page-link" href="/guestbook/">Guestbook</a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    </div>
  </nav>

</div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Appspresso를 사용하여 하이브리드앱 개발하기 - 2.On The Fly로 디버깅하기</h1>
    <p class="post-meta">Apr 27, 2012</p>
  </header>

  <article class="post-content">
    <h2 id="서론">서론</h2>

<p>개발할 때 빌드 시간이 오래 건린다면 여러분은 어떻게 하시겠습니까? 오랫동안 개발 연구하면서 가장 큰 고민거리 중에 하나이다. PC 성능은 점점 좋아지고 클래스 API 는 점점 덩치가 커지면서 프로그램의 변경 사항을 한번 확인하기 위해서 컴파일 시켜서 기다리는게 너무나 지루한 싸움이기 때문이다. 그러한 이유로 토이 프로젝트를 진행할 때는 컴파일러가 따로 필요없이 인터프리터만 지원하면 개발할 수 있는 Ruby, Phython을 대부분 사용하고 있다. Xcode는 그나마 다행히 Android의 빌드 시간보다 짧다.(같은 라인코드 수라고 가정했을 경우). Appspresso의 IDE는 eclipse를 기반으로 만들어진 Java-based IDE 이다. 더구나 javascript와 deviceapi 를 내부적으로 패키징하여 .ipa나 .apk 파일을 만들어 내는데 한번 빌드하게되면 그 시간이 엄청나다. 처음에 Hello world를 우린 같이 살펴봤는데, 아마 실행하기 위해서 한번 빌드하고 나서 소감이 어떠했는가? 아마도 이정도의 빌드 속도라면 &quot;Hello World&quot;를 &quot;Good bye World&quot;로 단순히 글자만 변경해도 다시 빌드를 해야한다고 생각하면서 빌드 시간의 공포에 Appspresso를 두번다시 사용하기 싫다고 실망했을거라 예상된다. 처음 android의 emulator를 빌드,런을 하면서 거의 울먹거리며 한숨을 쉬었던 경험을 바탕으로 생각해보면 빌드의 시간은 프로덕트를 생산하는 생산성에 아주 큰 영향을 미친다.
다행히도 Appspresso는 웹 리소스의 변화를 감지해서 우리들히 데스크탑에서 새로 고침을하면서 php를 개발하듯 동일한 인터페이스를 제공해준다. 즉, 한번만 빌드해서 실행시켜두고 웹 자원에 변경이 일어면 빌드를 새로하는 것이 아니라 새로 고침을 할 수 있게 해주는 것이다. 이런 기능을 on the fly이라고 한다.</p>

<!--more-->

<p>앞에서 같이 테스트한 SaltfactoryHybridTutorial (<a href="http://blog.saltfactory.net/125">http://blog.saltfactory.net/125</a>) 을 다시 열어 보자. 그리고 preferences를 열어서 Appspresso의 Debug를 열어서 Debug Server Host를 지정한다.</p>

<p><img src="http://cfile27.uf.tistory.com/image/116348334F9A47D31B6866" alt=""></p>

<p>이제 프로젝트를 디버그 모드로 실행해서 테스트를 해보자.
프로젝트 디렉토리에서 오른쪽 마우스를 클릭해서 Debug as &gt; Debug Appspresso application on iOS device를 선택한다.</p>

<p><img src="http://cfile27.uf.tistory.com/image/184172364F9A487302A45E" alt=""></p>

<p>그리고 eclipse의 하단에 있는 On The Fly 창을 확인한다. 밑에 빨간색으로 표시한 곳에 현재의 프로젝트명이 선택되어져 있어야 한다. 만약 그렇지 않을 경우는 on the fly의 target을 찾지 못한다는 에러가 발생하게 된다.</p>

<p><img src="http://cfile27.uf.tistory.com/image/1525CA394F9A49A60316AF" alt=""></p>

<p><img src="http://cfile23.uf.tistory.com/image/13783A334F9A4AA40CE4DD" alt=""></p>

<p>최초에 한번 빌드되어 실행되면서 Log가 남았다. 소스를 확인해보자.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;/appspresso/appspresso.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;pragma&quot;</span> <span class="na">content=</span><span class="s">&quot;no-cache&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;script&gt;</span>
            <span class="c1">//activate ax.log(), comment out when you release app</span>
            <span class="nx">ax</span><span class="p">.</span><span class="nx">runMode</span> <span class="o">=</span> <span class="nx">ax</span><span class="p">.</span><span class="nx">MODE_DEBUG</span><span class="p">;</span>
            <span class="nx">ax</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">);</span>
        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span>Hello World<span class="nt">&lt;/h1&gt;</span>
        <span class="nt">&lt;h3&gt;</span>net.saltfactory.hybridtutorial<span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<h2 id="on-the-fly">On The Fly</h2>

<p>ax.log(&quot;Hello World&quot;) 라는 appspresso의 예약된 객체의 메소드를 사용해서 로깅을 하였다. 우리는 빌드없이 Hello world를 Goodbye World로 변경을 해보자. 저장을 하고 On The Fly 창에서 주소창 왼쪽에 있는 &quot;새로고침&quot; 버턴을 클릭한다.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;/appspresso/appspresso.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;pragma&quot;</span> <span class="na">content=</span><span class="s">&quot;no-cache&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;script&gt;</span>
            <span class="c1">//activate ax.log(), comment out when you release app</span>
            <span class="nx">ax</span><span class="p">.</span><span class="nx">runMode</span> <span class="o">=</span> <span class="nx">ax</span><span class="p">.</span><span class="nx">MODE_DEBUG</span><span class="p">;</span>
            <span class="nx">ax</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Goodbye World&quot;</span><span class="p">);</span>
        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span>Goodbye World<span class="nt">&lt;/h1&gt;</span>
        <span class="nt">&lt;h3&gt;</span>net.saltfactory.hybridtutorial<span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>새로고침을 실행하면 다음과 같이 &quot;Goodbye World&quot; 가 로그에 남게 되고 simulator를 확인해보면 Goodbye World 고 글자가 변경된 것을 확인 할 수 있다.</p>

<p><img src="http://cfile23.uf.tistory.com/image/1541FC384F9A4B710A1569" alt=""></p>

<p><img src="http://cfile9.uf.tistory.com/image/207414344F9A4BAB36DD8B" alt=""></p>

<h2 id="결론">결론</h2>

<p>이렇게 Appsresso의 On The Fly 기능을 이용하면 프로그램을 변경시키더라도 새로 build의 시간을 사용하지 않고 간단하게 새로고침을 하여 변경되는 정보를 확인하고 개발할 수 있다. 웹 개발자들에게는 이 기능이 너무 단순한데 도대체 왜 이슈인가?라고 질문을 할지 모르지만, 안드로이드의 빌드와 런을 emulator에서 하는 과정을 한번 보여주면 곧바로 이해될 거라 예상된다. On The Fly를 이용해서 좀더 빠르고 편리하게 프로그램의 변경사항을 확인할 수 있게 되었으니 이제 실제 적인 예제를 가지고 테스트해볼 예정이다.</p>

<p>참고로, Appspresso 1.0.1 버전에서 On The Fly는 하나의 디바이스에만 적용이 된다. 앞에서 한번에 아이폰과 안드로이 디바이스를 빌드해서 런을 시키는 것을 테스트했는데 이렇게 두가지 디바이스를 모두 활성화시켜둔 상태에서 프로그램을 변경하고 두 디바이스에 어떻게 적용되는지 보고 싶어서 테스트해보니까 한군데만 적용이 되었다. 그래서 Appspresso 개발자 그룹에 문의하니 Appspresso 1.2 버전에 멀티 디바이스에 한번에 적용이 될거라는 답변 (<a href="https://groups.google.com/forum/#!searchin/appspresso-ko/%EC%8B%9C%EB%AE%AC%EB">https://groups.google.com/forum/#!searchin/appspresso-ko/시뮬</a>이터/appspresso-ko/dcbAin8THZY/TdQth4ztEpEJ) 을 받았으니, Appspresso의 업데이트 버전을 간절히 기다리고 있다. 하나의 코드를 작성하면서 동시에 두가지 디바이스에 가장 최적화 되는 모습을 바로 확인 할 수 있다는 것이라면 정말 멋지지 않는가? KTH에서 빠른 시간안에 이 기능을 업데이트해주면 Appspresso의 멋진 기능에 더 강력해질 것 같다고 생각해본다.</p>

<h2 id="참고">참고</h2>

<ol>
<li><a href="http://appspresso.com/ko/archives/2575">http://appspresso.com/ko/archives/2575</a></li>
</ol>

<h2 id="연구원-소개">연구원 소개</h2>

<ul>
<li>작성자 : <a href="http://about.me/saltfactory">송성광</a> 개발 연구원</li>
<li>블로그 : <a href="http://blog.saltfactory.net">http://blog.saltfactory.net</a></li>
<li>이메일 : <a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
<li>트위터 : <a href="https://twitter.com/saltfactory">@saltfactory</a></li>
<li>페이스북 : <a href="https://facebook.com/salthub">https://facebook.com/salthub</a></li>
<li>연구소 : <a href="http://www.hibrain.net">하이브레인넷</a> 부설연구소</li>
<li>연구실 : <a href="http://dblab.changwon.ac.kr">창원대학교 데이터베이스 연구실</a></li>
</ul>

  </article>

  
  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    
      var disqus_shortname = 'saltfactoryblog';
    
    // 
    
     var disqus_identifier = 'http://blog.saltfactory.net/126'; 
    


    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  



</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">saltfactory's blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <!-- <li>saltfactory's blog</li> -->
          <li><img class="profile" src="/assets/images/profile.png"/></li>
          <li><a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/saltfactory">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">saltfactory</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/saltfactory">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">@saltfactory</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://facebook.com/salthub">
              <span class="icon icon--facebook">
                <!-- <svg class="facebook-icon-svg" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <path d="M0.112290344,30 C0.112290344,13.4314567 13.3426506,0 29.663129,0 C45.9836073,0 59.2139676,13.4314567 59.2139676,30 C59.2139676,46.5685433 45.9836073,60 29.663129,60 C13.3426506,60 0.112290344,46.5685433 0.112290344,30 Z M0.112290344,30" fill="#C2C2C2" sketch:type="MSShapeGroup"></path>
	<path d="M32.1341457,46.3196729 L32.1341457,29.9980891 L36.5657565,29.9980891 L37.1530406,24.3735809 L32.1341457,24.3735809 L32.141675,21.5584604 C32.141675,20.091502 32.2787707,19.3054722 34.351206,19.3054722 L37.1216686,19.3054722 L37.1216686,13.6803271 L32.6894304,13.6803271 C27.3655995,13.6803271 25.491749,16.4088187 25.491749,20.9972835 L25.491749,24.3742179 L22.1732173,24.3742179 L22.1732173,29.998726 L25.491749,29.998726 L25.491749,46.3196729 L32.1341457,46.3196729 Z M32.1341457,46.3196729" id="Path" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
</svg>
 -->
                <svg viewBox="0 0 16 28">
                  <path id="logo" d="M14.984 0.187v4.125h-2.453q-1.344 0-1.813 0.562t-0.469 1.687v2.953h4.578l-0.609 4.625h-3.969v11.859h-4.781v-11.859h-3.984v-4.625h3.984v-3.406q0-2.906 1.625-4.508t4.328-1.602q2.297 0 3.563 0.187z"></path>
                </svg>
              </span>
              <span class="username">salthub</span>
            </a>
          </li>

        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text"></p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
