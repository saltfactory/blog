<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Markdown 파일을 HTML 파일로 변환할 때 IMG 사이즈 변환</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="">
    <link rel="canonical" href="/series/mark2html/mark2html-v.0.0.4-upgrade.html">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/series/assets/css/main.css">
    <!-- <link rel='stylesheet' type='text/css' href='/assets/css/main.css' /> -->

    
</head>


    <body>

    <header class="site-header">

  <div class="wrap">

    <a class="site-title" href="/series/">saltfactory's series</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        <a class="page-link" href="/">saltfactory.net</a>
        <a class="page-link" href="/guestbook">Guestbook</a>
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>Markdown 파일을 HTML 파일로 변환할 때 IMG 사이즈 변환</h1>
    <p class="meta">Jul 29, 2014</p>
  </header>

  <article class="post-content">
  <h2 id="서론">서론</h2>

<p>Markdown에서 이미지 태그를 표현하기 위한 표기법을 사용할 때 가장 큰 단점은 아미지 사이즐르 지정할 수 없다는 것이다. 이 포스트에서는 Markdown 문서를 HTML로 변경할 때 Markdown에 포함된 이미지를 HTML로 변환할 때 이미지 사이즈를 지정할 수 있는 방법을 소개한다.</p>

<!--more-->

<h2 id="mark2html@0.0.4"><a href="mailto:mark2html@0.0.4">mark2html@0.0.4</a></h2>

<p>mark2html을 <strong><em>0.0.4</em></strong>버전으로 업그레이드 했다. 이번 업데이트에는 Makrdown에서 HTML으로 변환할 때 이미지의 크기 등 style을 적용할 수 있는 기능이 추가 되었다.</p>

<p><a href="http://saltfactory.net/mark2html">mark2html</a>은 현재 개발되고 있는 사이드 프로젝트이다. Markdown을 사용하여 Tistory 블로그에 포스팅을 하기 위해서 시작된 이 프로젝트는 틈틈히 업데이트를 하고 있다. 이전 블로그들은 모두 스타일이 적용된 HTML으로 되어 있기 때문에 Markdown의 속성을 사용할 수도 없고, 다른 곳에 이전할 때도 기존의 HTML으로 작성된 포스팅과 Markdown을 사용하여 포스팅하는 글의 이질감을 느껴야한다. 그래서 시간이 날 때마다 Markdown으로 작성하지 않은 포스팅을 Markdown으로 변환해서 저장하는 작업을 하고 있다.</p>

<h2 id="기존-html-문서를-markdown으로-변환할때-문제점">기존 HTML 문서를 Markdown으로 변환할때 문제점</h2>

<p>Markdown을 사용해서 HTML 문서를 만들어내지 않은 기존의 HTML 문서를 가지고 Markdown으로 변환하는데는 몇가지 문제점이 있다.</p>

<ol>
<li><strong><em>기존의 HTML에서 Markdown이 변환할 때의 약속된 HTML태그를 찾기 어렵다.</em></strong> : 예를 들어, <code>### 제목</code> 이라고 Markdown으로 작성을 하면 이 문자열은 <code>&lt;h3&gt;제목&lt;/h3&gt;</code>로 변환이 된다. 하지만 기존 WYSIWYG을 사용해서 제목을 지정하거나 글자 크기를 변경했다면 <code>&lt;p style=&quot;font-size:24pt;&quot;&gt;제목&lt;/p&gt;</code>와 같은 형태로 저장이 되어 있기 때문에 Markdown과 HTML 간의 변환을 위한 약속된 태그를 사용해서 변경할 없다. 그래서 사람이 copy &amp; paste 를 할 수 밖에 없다. ~만약 기존의 문서를 Markdown으로 변환해서 사용하려면 빨리 마이그레이션하길 권한다. 포스팅이 꽤 많아져서 Markdown으로 변환하는데 시간이 많이 걸릴거라 생각된다.~</li>
<li><strong><em>Markdown은 이미지 사이즈를 정할 수 없다</em></strong> : Markdown은 이미지의 <code>src</code>,<code>alt</code>,<code>title</code> 속성만 지정할 수 있기 때문에 기존에 포스팅에 이미지가 특별한 사이즈로 지정했을때 이것을 Markdown으로 변경하면 이미지 사이즈를 특별하게 지정할 수 없게 된다. 반대로 Markdonw에서 이미지를 나타낼때 특정 사이즈로 변경하고 싶을 경우 css로 global하게 지정할 수 밖에 없다.</li>
</ol>

<h2 id="img-style-지정-필요">IMG style 지정 필요</h2>

<p>Markdown을 사용해서 이미지를 표현하려고 하는데 Markdown이 이미지 사이즈를 지정할 수 없기 때문에 큰 이미지를 그대로 HTML에 나타나서 어려움이 발생했다. <strong>Retina MacBook Pro</strong>를 사용하고 있는데 레티나에서 스크린 캡쳐를 하게되면 보통 이미지보다 2배가 커진다. 레티나 아이폰도 마찬가지 이다. <code>320px</code>로 표현하면 충분한데 캡쳐 받은 이미지가 <code>640px</code>이기 때문에 컨텐츠에 엄청 크게 이미지가 나타나버린다. 그래서 Markdown에서 이미지를 표현할 때 Markdown 문법에 틀리지 않으면서 style을 추가하면 좋겠다는 생각이 들었다.</p>

<h2 id="img-속성">IMG 속성</h2>

<p>HTML의 <code>IMG</code> 태그의 속성은 <code>src</code>, <code>alt</code>, <code>title</code>을 가지고 있다.
- <strong><em>src</em></strong> : 이미지의 URI 소스 값이다.
- <strong><em>alt</em></strong> : 이미지가 나타나지 않는 경우 이미지를 설명하는 텍스트이다. 이미지가 나타나지 않을 때 alt가 나타난다. 이 값은 이미지가 나타나는 경우에 화면에 나타나지 않는다.
- <strong><em>title</em></strong> : 이미지에 마우스를 올리면 나타나는 이미지의 타이틀 값이다.</p>

<p>Markdown에서 위의 이미지 속성을 표현하기 위해서는 다음과 같은 문법을 따른다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">![아이폰화면 이미지](http://cfile23.uf.tistory.com/image/222B154153A3916F292543 &quot;아이폰화면&quot;)
</code></pre></div>
<p>이 문법은 HTML 코드로 변환되면 다음과 같이 변환이 된다.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://cfile23.uf.tistory.com/image/222B154153A3916F292543&quot;</span> <span class="na">alt=</span><span class="s">&quot;아이폰화면 이미지&quot;</span> <span class="na">title=</span><span class="s">&quot;아이폰화면&quot;</span><span class="nt">&gt;</span>
</code></pre></div>
<p><img src="http://cfile23.uf.tistory.com/image/222B154153A3916F292543" alt="아이폰화면 이미지" title="아이폰화면"></p>

<p><code>img</code> 속성중에 <code>alt</code> 값은 이미지가 나타나는한 화면에 나타나지 않고 이미지를 설명하는 값이다. 그래서 Markdown을 작성할 때 <code>alt</code> 값에 <code>style</code> 값을 넣어서 사용하기로 했다.</p>

<h3 id="alt-값에-style-속성-추가하기">ALT 값에 style 속성 추가하기</h3>

<p>위에 나타나는 이미지는 아이폰5에서 캡쳐한 사진의 실제 크기이다. 그럼 <code>img</code>의 <code>alt</code>값을 넣고 표현해보자. 다음과 같이 Markdown의 이미지의 <code>alt</code>를 표현하는 공간에 <code>{}</code>를 사용해서 style 값을 지정했다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">![아이폰화면 이미지 {max-width:320px;}](http://cfile23.uf.tistory.com/image/222B154153A3916F292543 &quot;아이폰화면&quot;)
</code></pre></div>
<p><strong><em><a href="http://saltfactory.net/mark2html">mark2html</a>@0.0.4</em></strong> 버전에서는 <code>-imageStyle</code> 옵션값이 추가되었다. 명령어 옵션은 <code>-style</code>이다. 다음과 같이 옵션 값에 <code>imageStyle</code>을
추가하거나 command 라인에 <code>-style</code>옵션을 추가하면 ALT에 포함된 스타일 값을 가지고 렌더링을 한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">imageStyle</span><span class="o">:</span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>
<p>그러면 다음과 같이 HTML 코드로 변환이 된다.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://cfile23.uf.tistory.com/image/222B154153A3916F292543&quot;</span> <span class="na">style=</span><span class="s">&quot;width:320px;&quot;</span> <span class="na">alt=</span><span class="s">&quot;아이폰화면 이미지&quot;</span> <span class="na">title=</span><span class="s">&quot;아이폰화면&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p><img src="http://cfile23.uf.tistory.com/image/222B154153A3916F292543" alt="아이폰화면 이미지 {max-width:320px;}" title="아이폰화면"></p>

<h2 id="결론">결론</h2>

<p><code>IMG</code>에서 &#39;alt&#39; 속성은 화면에 이미지가 나타나지 않을 경우 이미지를 설명하는 속성이다. 이 이미지의 속성에 이미지의 <code>style</code>에 관한 설명을 추가하는 것은 의미적으로도 이미지를 더욱 잘 설명하는 것이라 생각했다. 그리고 Markdown에는 이미지에 대한 설명이 있고 HTML으로 변환이 되었을때 이미지에 스타일이 적용되면서 alt는 속성을 제외한 문자열만 나타나도록 했다. Markdown을 HTML으로 변환하는데 크게 불편함은 없지만 현재 Retina Display를 사용하는 경우 이미지의 크기 때문에 문제가 발생해서 <a href="mailto:mark2html@0.0.4">mark2html@0.0.4</a> 버전에서는 <code>-imageStyle</code> 옵션을 추가하게 되었다.</p>

<h2 id="연구원-소개">연구원 소개</h2>

<ul>
<li>작성자 : <a href="http://about.me/saltfactory">송성광</a> 개발 연구원</li>
<li>블로그 : <a href="http://blog.saltfactory.net">http://blog.saltfactory.net</a></li>
<li>이메일 : <a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
<li>트위터 : <a href="https://twitter.com/saltfactory">@saltfactory</a></li>
<li>페이스북 : <a href="https://facebook.com/salthub">https://facebook.com/salthub</a></li>
<li>연구소 : <a href="http://www.hibrain.net">하이브레인넷</a> 부설연구소</li>
<li>연구실 : <a href="http://dblab.changwon.ac.kr">창원대학교 데이터베이스 연구실</a></li>
</ul>

  </article>

  
</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <!-- <h2 class="footer-heading">saltfactory's series</h2> -->

    <div class="footer-col-1 column">
      <ul>
        <li><a href="http://saltfactory.net">www.saltfactory.net</a></li>
        <li><a href="http://blog.saltfactory.net">blog.saltfactory.net</a></li>
        <li><a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/saltfactory">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
  <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
  c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
  c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
  c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
  C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
  c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
  c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
  c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
  c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
</svg>

            </span>
            <span class="username">saltfactory</span>
          </a>
        </li>

        <li>
          <a href="https://twitter.com/saltfactory">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
  <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
  c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
  c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
  C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
  c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
  c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
</svg>

            </span>
            <span class="username">saltfactory</span>
          </a>
        </li>

        <li>
          <a href="https://facebook.com/saltfactory">
            <span class="icon facebook">
          		<svg class="facebook-icon-svg" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <path d="M0.112290344,30 C0.112290344,13.4314567 13.3426506,0 29.663129,0 C45.9836073,0 59.2139676,13.4314567 59.2139676,30 C59.2139676,46.5685433 45.9836073,60 29.663129,60 C13.3426506,60 0.112290344,46.5685433 0.112290344,30 Z M0.112290344,30" fill="#C2C2C2" sketch:type="MSShapeGroup"></path>
	<path d="M32.1341457,46.3196729 L32.1341457,29.9980891 L36.5657565,29.9980891 L37.1530406,24.3735809 L32.1341457,24.3735809 L32.141675,21.5584604 C32.141675,20.091502 32.2787707,19.3054722 34.351206,19.3054722 L37.1216686,19.3054722 L37.1216686,13.6803271 L32.6894304,13.6803271 C27.3655995,13.6803271 25.491749,16.4088187 25.491749,20.9972835 L25.491749,24.3742179 L22.1732173,24.3742179 L22.1732173,29.998726 L25.491749,29.998726 L25.491749,46.3196729 L32.1341457,46.3196729 Z M32.1341457,46.3196729" id="Path" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
</svg>
		
        	</span>
        	<span class="username">salthub</span>
			</a>
        </li>

      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text"></p>
    </div>

  </div>

</footer>


	<script src="/series/assets/javascripts/jekyll-img-converter.js"></script>
    </body>
</html>
