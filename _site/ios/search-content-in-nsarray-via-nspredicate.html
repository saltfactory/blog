<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>NSPredicate를 이용하여 배열안의 내용검색하기</title>
    <meta name="description" content="">

    <meta content="saltfactory's blog" property="og:site_name">
    
    <meta content="NSPredicate를 이용하여 배열안의 내용검색하기" property="og:title">
    
    
    <meta content="article" property="og:type">
    
    <!-- 서론

데이터베이스를 이용하면 복잡한 데이터를 구조적으로 잘 저장하고 SQL이라는 대화형 언어로 원하는 데이터를 쉽게 가져올 수 가 있다. 상대적으로 파일 시스템에서 원하는 내용을 검색하기란 그렇게 쉬운 작업이 아니다. 그래서 우리는 iPhone에서 SQLite를 이용해서 데이터를 저장하고 검색하는데 사용하고 있다. 이러한 SQLite, XML의 구조적인 형태의 데이터 저장을 iPhone이나 Cocoa 프로그램에 사용할 수 있게 CoreData 라는 프레임워크를 이용해서 접근할 수 있는데, 이때 SQL의 조건절을 사용하듯, NSPredicate를 이용하여 원하는 데이터를 가져올 수 있게 필터링할 수 있다. (이후에 CoreData에 대한 포스팅을 따로 준비할 예정이다.) https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdFetching.html 에서 애플 개발자 다큐먼트에 공식적으로 공개한 NSPredicate의 예제를 확인 할 수 있다.
 -->


    
    
    <meta content="http://blog.saltfactory.net/ios/search-content-in-nsarray-via-nspredicate.html" property="og:url">
    
    
    <meta content="2012-04-23T00:00:00+09:00" property="article:published_time">
    <meta content="http://blog.saltfactory.net/about/" property="article:author">
    
    <!-- 
    <meta content="/img/logo-high-resolution.png" property="og:image">
     -->
    
    
    <meta content="ios" property="article:section">
    
    
    
    
    <meta content="ios" property="article:tag">
    
    <meta content="objective-c" property="article:tag">
    
    



    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://blog.saltfactory.net/ios/search-content-in-nsarray-via-nspredicate.html">
    <link rel="meta" type="application/rdf+xml" title="FOAF" href="/assets/foaf.rdf" />

    

    
      <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8647285-2', 'auto');
ga('send', 'pageview');
</script>

    
</head>


  <body>
    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">saltfactory's blog</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
        <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
        h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
        <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
        h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
        <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
        c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
      </svg>
    </a>
    <div class="trigger">
      <!-- <a class="page-link" href="http://saltfactory.net">saltfactory.net</a> -->
      <!--
      
      <a class="page-link" href="/about/">About</a>
      
      
      
      
      
      
      
      <a class="page-link" href="/categories/">Categories</a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a class="page-link" href="/guestbook/">GuestBook</a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a class="page-link" href="/categories/ruby/">Articles by category: ruby</a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      -->


      <a class="page-link" href="/about/">About</a>
      <a class="page-link" href="/categories/">Categories</a>
      <a class="page-link" href="/guestbook/">GuestBook</a>
      <a class="page-link" href="http://saltfactory.net">saltfactory.net</a>
    </div>

    </nav>
    <script>
(function() {
  var cx = '014516175331458470005:ze8dwrrwnac';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
  '//cse.google.com/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
</script>
<gcse:search></gcse:search>

</div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">NSPredicate를 이용하여 배열안의 내용검색하기</h1>
    <p class="post-meta">Apr 23, 2012</p>
  </header>

  <article class="post-content">
    <h2 id="서론">서론</h2>

<p>데이터베이스를 이용하면 복잡한 데이터를 구조적으로 잘 저장하고 SQL이라는 대화형 언어로 원하는 데이터를 쉽게 가져올 수 가 있다. 상대적으로 파일 시스템에서 원하는 내용을 검색하기란 그렇게 쉬운 작업이 아니다. 그래서 우리는 iPhone에서 SQLite를 이용해서 데이터를 저장하고 검색하는데 사용하고 있다. 이러한 SQLite, XML의 구조적인 형태의 데이터 저장을 iPhone이나 Cocoa 프로그램에 사용할 수 있게 CoreData 라는 프레임워크를 이용해서 접근할 수 있는데, 이때 SQL의 조건절을 사용하듯, NSPredicate를 이용하여 원하는 데이터를 가져올 수 있게 필터링할 수 있다. (이후에 CoreData에 대한 포스팅을 따로 준비할 예정이다.) <a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdFetching.html">https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdFetching.html</a> 에서 애플 개발자 다큐먼트에 공식적으로 공개한 NSPredicate의 예제를 확인 할 수 있다.</p>

<!--more-->
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">NSManagedObjectContext</span> <span class="o">*</span><span class="n">moc</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span> <span class="n">managedObjectContext</span><span class="p">];</span>
<span class="bp">NSEntityDescription</span> <span class="o">*</span><span class="n">entityDescription</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSEntityDescription</span>
                                          <span class="nl">entityForName</span><span class="p">:</span><span class="s">@&quot;Employee&quot;</span> <span class="nl">inManagedObjectContext</span><span class="p">:</span><span class="n">moc</span><span class="p">];</span>
<span class="bp">NSFetchRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[[[</span><span class="bp">NSFetchRequest</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nl">setEntity</span><span class="p">:</span><span class="n">entityDescription</span><span class="p">];</span>

<span class="c1">// Set example predicate and sort orderings...</span>
<span class="bp">NSNumber</span> <span class="o">*</span><span class="n">minimumSalary</span> <span class="o">=</span> <span class="p">...;</span>
<span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predicate</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span>
                          <span class="s">@&quot;(lastName LIKE[c] &#39;Worsley&#39;) AND (salary &gt; %@)&quot;</span><span class="p">,</span> <span class="n">minimumSalary</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nl">setPredicate</span><span class="p">:</span><span class="n">predicate</span><span class="p">];</span>

<span class="bp">NSSortDescriptor</span> <span class="o">*</span><span class="n">sortDescriptor</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSSortDescriptor</span> <span class="n">alloc</span><span class="p">]</span>
                                    <span class="nl">initWithKey</span><span class="p">:</span><span class="s">@&quot;firstName&quot;</span> <span class="nl">ascending</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nl">setSortDescriptors</span><span class="p">:[</span><span class="bp">NSArray</span> <span class="nl">arrayWithObject</span><span class="p">:</span><span class="n">sortDescriptor</span><span class="p">]];</span>
<span class="p">[</span><span class="n">sortDescriptor</span> <span class="k">release</span><span class="p">];</span>

<span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
<span class="bp">NSArray</span> <span class="o">*</span><span class="n">array</span> <span class="o">=</span> <span class="p">[</span><span class="n">moc</span> <span class="nl">executeFetchRequest</span><span class="p">:</span><span class="n">request</span> <span class="nl">error</span><span class="p">:</span><span class="o">&amp;</span><span class="n">error</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="n">array</span> <span class="o">==</span> <span class="nb">nil</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Deal with error...</span>
<span class="p">}</span>
</code></pre></div>
<p>소스 코드를 살펴보면 Employee라는 테이블에서 lastname이라는 컬럼에 &#39;Worsley&#39;가 포함되어 있고, salary 값이 minnumSalary보다 큰 경우를 NSPredicate로 지정을 한다. 그리고 NSFetchRequest를 요청할 때 조건으로 만들어둔 NSPredicate를 적용하여 데이터를 검색하는 것을 확인 할 수 있다. 이것은 간단하게 SQL로 표현하면 다음과 같을 것이다.</p>
<div class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">from</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">lastname</span> <span class="k">LIKE</span> <span class="s1">&#39;%Worsley%&#39;</span> <span class="k">AND</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="n">mininumSallery</span>
</code></pre></div>
<p>NSPredicate는 이렇게 NSFetchRequest에서 조건을 추가하기 위해서 사용하는 것으로만 알고 있는 사용자들이 많을 것이다. 이는 현재 판매되고 있는 아이폰 개발 도서에 대부분 CoreData 섹션 부분에서만 나오기 때문인데, 사실은 NSPredicate (<a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSPredicate_Class/Reference/NSPredicate.html)%EB%A5%BC">https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSPredicate_Class/Reference/NSPredicate.html)를</a> 살펴보면 검색 조건을 사용해서 페칭하거나 메모리 상의 데이터를 필터링하는 논리적인 조건을 정의하는 객체이다. 여기서 메모리 상의 데이터를 검색할 수 있다는 말이 나오는데 우리가 흔히 메모리상에 데이터가 논리적으로 저장되어 있는 것은 변수라고 하고 이러한 변수 중에서도 데이터의 집합을 가지고 있는 것은 배열로 알고 있다. 그럼 NSPredicate를 이용하여 배열안에 데이터를 검색할 수 있다는 말이 된다는 것을 눈치 챘을 것이다. NSPredicate를 사용하기 전에 간단한 예제를 살펴보자.</p>

<p>우리는 흔히 배열 속에서 데이터를 찾기 위해서 Loop를 이용해서 데이터를 순차적으로 탐색해서 검색하는 프로그램을 작성해야만 했다.
다음 예를 살펴보자.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="c1">//</span>
<span class="c1">//  CWNUMapTests.h</span>
<span class="c1">//  CWNUMapTests</span>
<span class="c1">//</span>
<span class="c1">//  Created by SungKwang Song on 4/2/12.</span>
<span class="c1">//  Copyright (c) 2012 saltfactory@me.com. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;SenTestingKit/SenTestingKit.h&gt;</span>

<span class="k">@interface</span> <span class="nc">CWNUMapTests</span> : <span class="nc">SenTestCase</span>
<span class="p">{</span>
    <span class="bp">NSArray</span> <span class="o">*</span><span class="n">array</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testSearchTextFromArray</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testPredicateTextFromArray</span><span class="p">;</span>
<span class="k">@end</span>


<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">setUp</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nb">super</span> <span class="n">setUp</span><span class="p">];</span>

    <span class="c1">// Set-up code here.</span>
    <span class="n">array</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSArray</span> <span class="nl">arrayWithObjects</span><span class="p">:</span><span class="s">@&quot;aaa&quot;</span><span class="p">,</span> <span class="s">@&quot;abc&quot;</span><span class="p">,</span> <span class="s">@&quot;bbb&quot;</span><span class="p">,</span> <span class="s">@&quot;ccc&quot;</span><span class="p">,</span> <span class="nb">nil</span> <span class="p">];</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">tearDown</span>
<span class="p">{</span>
    <span class="c1">// Tear-down code here.</span>

    <span class="p">[</span><span class="nb">super</span> <span class="n">tearDown</span><span class="p">];</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">testSearchTextFromArray</span>
<span class="p">{</span>

    <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;bbb&quot;</span><span class="p">;</span>
    <span class="bp">NSMutableArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSMutableArray</span> <span class="n">array</span><span class="p">];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="p">[</span><span class="n">array</span> <span class="n">count</span><span class="p">];</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">([[</span><span class="n">array</span> <span class="nl">objectAtIndex</span><span class="p">:</span><span class="n">i</span><span class="p">]</span> <span class="nl">isEqualToString</span><span class="p">:</span><span class="n">name</span><span class="p">])</span> <span class="p">{</span>
            <span class="p">[</span><span class="n">fetchedArray</span> <span class="nl">addObject</span><span class="p">:[</span><span class="n">array</span> <span class="nl">objectAtIndex</span><span class="p">:</span><span class="n">i</span><span class="p">]];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ from array&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>이렇게 고전적으로 작성하던 for 문을 NSPredicate로 소스를 간소화 시킬 수 있다.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testPredicateTextFromArray</span>
<span class="p">{</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;bbb&quot;</span><span class="p">;</span>
    <span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predicate</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span><span class="s">@&quot;SELF MATCHES %@&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">];</span>
    <span class="bp">NSArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="nl">filteredArrayUsingPredicate</span><span class="p">:</span><span class="n">predicate</span><span class="p">];</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ using predicate&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>NSArray에는 -filteredArrayUsingPredicate: 라는 메소드가 존재한다. 외부에서 NSPredicate를 사용하여 조건을 명시적으로 작성한 다음 배열객체에 포함되어 있는 -filteredArrayUsingPredicate:를 이용하여 원하는 데이터의 집합을 반환할 수 있다. 위에서 사용한 SELF 라는 키워드는 배열의 객체 하나의 자체를 나타내고 있다. 위의 예제는 단순하게 NSString의 배열이기 때문에 조건에 lastName 같은 필드명을 넣을 수 가 없다. 이러한 경우에는 배열 하나하나 그 자체인 SELF라는 것을 이용해서 객체를 비교할 수 있게 되는 것이다.</p>

<p>만약 필드를 가지는 객체를 배열로 저장되어 있고 그 배열 속에서 특정 필드의 값에 가지고 검색하려고 한다고 생각해보자.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setUp</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nb">super</span> <span class="n">setUp</span><span class="p">];</span>

    <span class="c1">// Set-up code here.</span>
    <span class="c1">//array = [NSArray arrayWithObjects:@&quot;aaa&quot;, @&quot;abc&quot;, @&quot;bbb&quot;, @&quot;ccc&quot;, nil ];</span>
    <span class="n">array</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSArray</span> <span class="nl">arrayWithObjects</span><span class="p">:</span>
             <span class="p">[</span><span class="bp">NSDictionary</span> <span class="nl">dictionaryWithObject</span><span class="p">:</span><span class="s">@&quot;aaa&quot;</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;name&quot;</span><span class="p">],</span>
             <span class="p">[</span><span class="bp">NSDictionary</span> <span class="nl">dictionaryWithObject</span><span class="p">:</span><span class="s">@&quot;abc&quot;</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;name&quot;</span><span class="p">],</span>
             <span class="p">[</span><span class="bp">NSDictionary</span> <span class="nl">dictionaryWithObject</span><span class="p">:</span><span class="s">@&quot;bbb&quot;</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;name&quot;</span><span class="p">],</span>
             <span class="p">[</span><span class="bp">NSDictionary</span> <span class="nl">dictionaryWithObject</span><span class="p">:</span><span class="s">@&quot;ccc&quot;</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;name&quot;</span><span class="p">],</span>
             <span class="nb">nil</span> <span class="p">];</span>

<span class="p">}</span>
</code></pre></div>
<p>역시나 Loop를 이용하여 프로그램을 작성했다면 다음과 같이 검색하는 코드를 작성했을 것이다.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testSearchNameFromArray</span>
<span class="p">{</span>
    <span class="bp">NSMutableArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSMutableArray</span> <span class="n">array</span><span class="p">];</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;bbb&quot;</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="p">[</span><span class="n">array</span> <span class="n">count</span><span class="p">];</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">dic</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="nl">objectAtIndex</span><span class="p">:</span><span class="n">i</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">([[</span><span class="n">dic</span> <span class="nl">valueForKey</span><span class="p">:</span><span class="s">@&quot;name&quot;</span><span class="p">]</span> <span class="nl">isEqualToString</span><span class="p">:</span><span class="n">name</span><span class="p">])</span> <span class="p">{</span>
            <span class="p">[</span><span class="n">fetchedArray</span> <span class="nl">addObject</span><span class="p">:</span><span class="n">dic</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ from array&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<p>이렇게 필드명이 있는 경우, 그 중에서도 NSDictionary의 집합으로 구성되어 있는 배열에서 데이터를 검색할 때 다음과 같이 사용한다.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testPredicateNameFromArray</span>
<span class="p">{</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;bbb&quot;</span><span class="p">;</span>
    <span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predicate</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span><span class="s">@&quot;name == %@&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">];</span>
    <span class="bp">NSArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="nl">filteredArrayUsingPredicate</span><span class="p">:</span><span class="n">predicate</span><span class="p">];</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ using predicate&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<p>NSPredicate를 이용하면 코드가 훨씬 간결해지는 것을 확인할 수 있다. NSPredicate는 조건을 만들기 위한 syntax가 존재하는데 이것은 <a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html">https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html</a> 에서 확인 할 수 있다.
여기서 bbb라는 이름을 대문자 BBB로 저장 되어 있거나 소문자가 섞여서 저장되어 있다고 생각해보자. 그러면 아마도 다음과 같이 NSString의 <code>-uppercaseString:</code> 이라는 메소드를 이용하여 작성을 하였을 것이다.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testSearchNameFromArray</span>
<span class="p">{</span>
    <span class="bp">NSMutableArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSMutableArray</span> <span class="n">array</span><span class="p">];</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;bbb&quot;</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="p">[</span><span class="n">array</span> <span class="n">count</span><span class="p">];</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">dic</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="nl">objectAtIndex</span><span class="p">:</span><span class="n">i</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">([[[</span><span class="n">dic</span> <span class="nl">valueForKey</span><span class="p">:</span><span class="s">@&quot;name&quot;</span><span class="p">]</span> <span class="n">uppercaseString</span><span class="p">]</span> <span class="nl">isEqualToString</span><span class="p">:</span><span class="n">name</span><span class="p">])</span> <span class="p">{</span>
            <span class="p">[</span><span class="n">fetchedArray</span> <span class="nl">addObject</span><span class="p">:</span><span class="n">dic</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ from array&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<p>하지만 NSPredicate를 이용하면 컬럼 안에 있는 데이터를 가져와서 -uppercaseString:을 적용할 수가 없다.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testPredicateNameFromArray</span>
<span class="p">{</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;bbb&quot;</span><span class="p">;</span>
    <span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predicate</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span><span class="s">@&quot;name == %@&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">];</span>
    <span class="bp">NSArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="nl">filteredArrayUsingPredicate</span><span class="p">:</span><span class="n">predicate</span><span class="p">];</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ using predicate&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<p>이러한 경우 NSPredicate의 syntax를 사용하면 효과적으로 조건을 만들 수가 있다. == 은 MATCHES 나 LIKE, CONTAINS 로 바꾸어서 사용할 수 있다. MATCHES는 정규 표현식이 매칭되는 것이고 LIKE는 SQL의 like 연산과 동일하고 CONTAINS는 문자열에 포함된 단어가 있는지 확인 할 때 상요하는 것이다. 그리고 c<a href="%EB%8C%80%20%EC%86%8C%EB%AC%B8%EC%9E%90%20%EA%B5%AC%EB%B6%84%20%ED%95%98%EC%A7%80%20%EC%95%8A%EC%9D%8C">case insensitive</a>, d<a href="%EB%B0%9C%EC%9D%8C%EA%B8%B0%ED%98%B8%20%EA%B5%AC%EB%B6%84%ED%95%98%EC%A7%80%20%EC%95%8A%EC%9D%8C">diacritic insensitive</a> 옵션을 사용하면 된다.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testPredicateNameFromArray</span>
<span class="p">{</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;bbb&quot;</span><span class="p">;</span>
    <span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predicate</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span><span class="s">@&quot;name MATCHES[c] %@&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">];</span>
    <span class="bp">NSArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="nl">filteredArrayUsingPredicate</span><span class="p">:</span><span class="n">predicate</span><span class="p">];</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ using predicate&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<p>NSDictionary가 아니 사용자가 정의한 클래스가 배열 속에서 집합으로 존재할 때 검색하는 방법을 살표보자.
Person이라는 객체가 있고 name과 age라는 필드가 있고 NSString과  NSInteger 형이라고 생각하자.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">@interface</span> <span class="nc">Person</span> : <span class="bp">NSObject</span>
<span class="k">@property</span> <span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span> <span class="k">readwrite</span><span class="p">)</span> <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
<span class="k">@property</span> <span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span> <span class="k">readwrite</span><span class="p">)</span> <span class="bp">NSInteger</span> <span class="n">age</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">Person</span>
<span class="k">@synthesize</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithName:</span><span class="p">(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">aName</span> <span class="nf">age:</span><span class="p">(</span><span class="bp">NSInteger</span><span class="p">)</span><span class="nv">aAge</span>
<span class="p">{</span>
    <span class="nb">self</span> <span class="o">=</span> <span class="p">[</span><span class="nb">super</span> <span class="n">init</span><span class="p">];</span>

    <span class="k">if</span> <span class="p">(</span><span class="nb">self</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">aName</span><span class="p">;</span>
        <span class="n">age</span> <span class="o">=</span> <span class="n">aAge</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">self</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">@end</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setUp</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nb">super</span> <span class="n">setUp</span><span class="p">];</span>

    <span class="c1">// Set-up code here.</span>
    <span class="c1">//array = [NSArray arrayWithObjects:@&quot;aaa&quot;, @&quot;abc&quot;, @&quot;bbb&quot;, @&quot;ccc&quot;, nil ];</span>
<span class="c1">//    array = [NSArray arrayWithObjects:</span>
<span class="c1">//             [NSDictionary dictionaryWithObject:@&quot;aaa&quot; forKey:@&quot;name&quot;],</span>
<span class="c1">//             [NSDictionary dictionaryWithObject:@&quot;abc&quot; forKey:@&quot;name&quot;],</span>
<span class="c1">//             [NSDictionary dictionaryWithObject:@&quot;BBB&quot; forKey:@&quot;name&quot;],</span>
<span class="c1">//             [NSDictionary dictionaryWithObject:@&quot;ccc&quot; forKey:@&quot;name&quot;],</span>
<span class="c1">//             nil ];</span>
    <span class="n">array</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSArray</span> <span class="nl">arrayWithObjects</span><span class="p">:</span>
             <span class="p">[[</span><span class="n">Person</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&quot;aaa&quot;</span> <span class="nl">age</span><span class="p">:</span><span class="mi">20</span><span class="p">],</span>
             <span class="p">[[</span><span class="n">Person</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&quot;abc&quot;</span> <span class="nl">age</span><span class="p">:</span><span class="mi">22</span><span class="p">],</span>
             <span class="p">[[</span><span class="n">Person</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&quot;BBB&quot;</span> <span class="nl">age</span><span class="p">:</span><span class="mi">26</span><span class="p">],</span>
             <span class="p">[[</span><span class="n">Person</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithName</span><span class="p">:</span><span class="s">@&quot;ccc&quot;</span> <span class="nl">age</span><span class="p">:</span><span class="mi">30</span><span class="p">],</span>
             <span class="nb">nil</span> <span class="p">];</span>
<span class="p">}</span>
</code></pre></div>
<p>이렇게 필드명을 가진 배열에서 name이라는 필드로 검색할 때는 앞에서 NSPredicate를 만들어서 사용하던 조건과 동일하다 NSObject를 상속 받은 객체에서 필드의 이름을 가지고 검색을 하기 때문이다.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testPredicateNameFromArray</span>
<span class="p">{</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;bbb&quot;</span><span class="p">;</span>
    <span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predicate</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span><span class="s">@&quot;name MATCHES[c] %@&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">];</span>
    <span class="bp">NSArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="nl">filteredArrayUsingPredicate</span><span class="p">:</span><span class="n">predicate</span><span class="p">];</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ using predicate&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<p>NSPredicate는 조건을 보다 복잡하게 사용자가 정의해서 만들 수가 있는데 이 때 -predicateWithBlock: 을 사용해서 할 수 있다. 사실 이 예제는 궂이 block을 사용하지 않아도 할 수 있지만, block을 사용해서 조건을 만드는 방법을 예제로 들기 위해서 만든 것이다. Person의 만 나이가 25보다 크며 &quot;ccc&quot;라는 이름을 가지는 경우는 참이 되어 해당되는 데이터들을 검색하라는 의미의 조건이다.</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testPredicateBlock</span>
<span class="p">{</span>
    <span class="bp">NSPredicate</span> <span class="o">*</span><span class="n">predicate</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithBlock</span><span class="p">:</span><span class="o">^</span><span class="kt">BOOL</span><span class="p">(</span><span class="kt">id</span> <span class="n">evaluatedObject</span><span class="p">,</span> <span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">bindings</span><span class="p">){</span>
        <span class="k">return</span> <span class="p">(([[</span><span class="n">evaluatedObject</span> <span class="nl">valueForKey</span><span class="p">:</span><span class="s">@&quot;age&quot;</span><span class="p">]</span> <span class="n">integerValue</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">)</span> <span class="o">&amp;&amp;</span>  <span class="p">[[</span><span class="n">evaluatedObject</span> <span class="nl">valueForKey</span><span class="p">:</span><span class="s">@&quot;name&quot;</span><span class="p">]</span> <span class="nl">isEqualToString</span><span class="p">:</span><span class="s">@&quot;ccc&quot;</span><span class="p">]);</span>
    <span class="p">}];</span>


    <span class="bp">NSArray</span> <span class="o">*</span><span class="n">fetchedArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="nl">filteredArrayUsingPredicate</span><span class="p">:</span><span class="n">predicate</span><span class="p">];</span>

    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;find %@ using predicate&quot;</span><span class="p">,</span> <span class="n">fetchedArray</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<h2 id="결론">결론</h2>

<p>이렇게 배열 객체에도 NSPredicate를 사용할 수 있다. NSPredicate를 이용하면 기존의 for 나 while 등의 Loop를 사용하여 코드를 작성하는 것 보다 보다 간결하게 코드를 작성할 수 있고 객체의 내부의 필드 이름을 가지고 비교할 수 있게 된다. 그리고 block을 이용하여 객체를 검색할 때 객체마다 복잡한 조건이 맞는지를 검사할 수가 있다. NSPredicate를 이용하여 배열안의 내용을 검색할 수 있다는 것을 알고 Loop를 이용하여 검색하는 루틴에 적용하면 좋을 것 같다.</p>

<h2 id="참고">참고</h2>

<ol>
<li><a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSPredicate_Class/Reference/NSPredicate.html">https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSPredicate_Class/Reference/NSPredicate.html</a></li>
<li><a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html">https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html</a></li>
</ol>

<h2 id="연구원-소개">연구원 소개</h2>

<ul>
<li>작성자 : <a href="http://about.me/saltfactory">송성광</a> 개발 연구원</li>
<li>블로그 : <a href="http://blog.saltfactory.net">http://blog.saltfactory.net</a></li>
<li>이메일 : <a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
<li>트위터 : <a href="https://twitter.com/saltfactory">@saltfactory</a></li>
<li>페이스북 : <a href="https://facebook.com/salthub">https://facebook.com/salthub</a></li>
<li>연구소 : <a href="http://www.hibrain.net">하이브레인넷</a> 부설연구소</li>
<li>연구실 : <a href="http://dblab.changwon.ac.kr">창원대학교 데이터베이스 연구실</a></li>
</ul>

  </article>

  <!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_sharing_toolbox"></div>
<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-55706d7f707f75ff" async="async"></script>



<!-- <div class='shareaholic-canvas' data-app='share_buttons' data-app-id=''></div>
<script type="text/javascript">
//<![CDATA[
  (function() {
    var shr = document.createElement('script');
    shr.setAttribute('data-cfasync', 'false');
    shr.src = '//dsms0mj1bbhn4.cloudfront.net/assets/pub/shareaholic.js';
    shr.type = 'text/javascript'; shr.async = 'true';
    shr.onload = shr.onreadystatechange = function() {
      var rs = this.readyState;
      if (rs && rs != 'complete' && rs != 'loaded') return;
      var site_id = 'fd3b2a079d78a86b57bffbfc4e3ee42d';
      try { Shareaholic.init(site_id); } catch (e) {}
    };
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(shr, s);
  })();
//]]>
</script> -->

  
  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    
      var disqus_shortname = 'saltfactoryblog';
    
    // 
    

    
      var disqus_identifier = 'http://blog.saltfactory.net/122';
    

    
      var disqus_url = 'http://blog.saltfactory.net/ios/search-content-in-nsarray-via-nspredicate.html';
    


    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  



</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">saltfactory's blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <!-- <li>saltfactory's blog</li> -->
          <li><img class="profile" src="/assets/images/profile.png"/></li>
          <li><a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
          <li><a href="http://saltfactory.net">saltfactory.net</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/saltfactory">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">saltfactory</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/saltfactory">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">@saltfactory</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://facebook.com/salthub">
              <span class="icon icon--facebook">
                <!-- <svg class="facebook-icon-svg" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <path d="M0.112290344,30 C0.112290344,13.4314567 13.3426506,0 29.663129,0 C45.9836073,0 59.2139676,13.4314567 59.2139676,30 C59.2139676,46.5685433 45.9836073,60 29.663129,60 C13.3426506,60 0.112290344,46.5685433 0.112290344,30 Z M0.112290344,30" fill="#C2C2C2" sketch:type="MSShapeGroup"></path>
	<path d="M32.1341457,46.3196729 L32.1341457,29.9980891 L36.5657565,29.9980891 L37.1530406,24.3735809 L32.1341457,24.3735809 L32.141675,21.5584604 C32.141675,20.091502 32.2787707,19.3054722 34.351206,19.3054722 L37.1216686,19.3054722 L37.1216686,13.6803271 L32.6894304,13.6803271 C27.3655995,13.6803271 25.491749,16.4088187 25.491749,20.9972835 L25.491749,24.3742179 L22.1732173,24.3742179 L22.1732173,29.998726 L25.491749,29.998726 L25.491749,46.3196729 L32.1341457,46.3196729 Z M32.1341457,46.3196729" id="Path" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
</svg>
 -->
                <svg viewBox="0 0 16 28">
                  <path id="logo" d="M14.984 0.187v4.125h-2.453q-1.344 0-1.813 0.562t-0.469 1.687v2.953h4.578l-0.609 4.625h-3.969v11.859h-4.781v-11.859h-3.984v-4.625h3.984v-3.406q0-2.906 1.625-4.508t4.328-1.602q2.297 0 3.563 0.187z"></path>
                </svg>
              </span>
              <span class="username">salthub</span>
            </a>
          </li>

        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text"></p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
