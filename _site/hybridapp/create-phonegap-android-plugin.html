<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PhoneGap Android 플러그인 개발</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="">
    <link rel="canonical" href="/series/hybridapp/create-phonegap-android-plugin.html">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/series/assets/css/main.css">
    <!-- <link rel='stylesheet' type='text/css' href='/assets/css/main.css' /> -->

    
</head>


    <body>

    <header class="site-header">

  <div class="wrap">

    <a class="site-title" href="/series/">saltfactory's series</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        <a class="page-link" href="/">saltfactory.net</a>
        <a class="page-link" href="/guestbook">Guestbook</a>
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>PhoneGap Android 플러그인 개발</h1>
    <p class="meta">Mar 19, 2014</p>
  </header>

  <article class="post-content">
  <h2 id="서론">서론</h2>

<p>우리는 <a href="http://blog.saltfactory.net/235">저번 포스팅</a>에서 <strong>PhoneGap iOS 플러그인 개발</strong>을 하는 방법을 살펴보았다. PhoneGap에서 웹 자원과 네이티브 자원의 상호 호출을 하기 위해서는 반드시 Plugins가 필요하기 때문에 PhoneGap Plugins 개발은 하이브리드 앱에서 필수로 알아야하는 항목이다. 저번 포스팅에 이어서 이번에는 PhoneGap으로 Android 프로젝트에서 사용할 수 있는 PhoneGap Android 플러그인을 개발하는 방법을 알아보기로 한다.</p>

<!--more-->

<h3 id="phonegap-plugins-프로젝트에-android-플랫폼-추가">PhoneGap Plugins 프로젝트에 android 플랫폼 추가</h3>

<p>우리는 저번 포스팅(<a href="http://blog.saltfactory.net/235)%EC%97%90%EC%84%9C">http://blog.saltfactory.net/235)에서</a> PhoneGap Plugins 프로젝트를 <strong>sf-phonegap-plugin-demo</strong> 라는 이름으로 생성을 했었다. ios 용 plugins을 만들 때 가장 먼저 PhoneGap 의 iOS 플랫폼을 추가한 것과 동일하게 android 플랫폼을 추가하기 위해서 build를 먼저 시행한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build android
</code></pre></div>
<p><img src="http://cfile26.uf.tistory.com/image/257F7B3B53291D1E02B32D" alt=""></p>

<h3 id="android-studio-를-이용해서-android-프로젝트를-만들고-phonegap-plugins-프로젝트를-import-한다.">Android Studio 를 이용해서 Android 프로젝트를 만들고 PhoneGap Plugins 프로젝트를 import 한다.</h3>

<p>PhoneGap Android 플러그인을 개발하기 위해서는 Android IDE가 필요하다. 우리는 <a href="http://developer.android.com/tools/studio/index.html">Android Studio</a>를 이용하기로 한다. eclipse 기반으로 import 진행해도 되지만 Android에서고 공식적으로 Android Studio를 배포하고 있기 때문에 Android Studio로 진행하기로 한다.</p>

<p><strong>1) Android Studio를 실행</strong></p>

<p><img src="http://cfile27.uf.tistory.com/image/21040A3C53291DD62A0482" alt=""></p>

<p><strong>2) PhoneGap Plugins 프로젝트 디렉토리를 import</strong></p>

<p>우리는 PhoneGap Plugins 프로젝트를 <strong>sf-phonegap-plugin-demo</strong> 라는 이름으로 디렉토리를 만들었는데 이 디렉토리를 import 한다.</p>

<p><img src="http://cfile10.uf.tistory.com/image/27189E4F53291F472EC739" alt=""></p>

<p><img src="http://cfile5.uf.tistory.com/image/25134C3553291FCB224B76" alt=""></p>

<p><strong>3) PhoneGap Plugins 프로젝트의 소스 import</strong></p>

<p>PhoneGap Plugins 디렉토리를 import하면 Android Studio가 새로운 프로젝트를 만들고 존재하는 소스파일을 import 할것을 물어본다. 존재하는 소스를 import 한다. Android Studio 프로젝트 이름은 원하는 이름으로 만들어도 되지만 편의상 PhoneGap Plugins 디렉토리와 동일한 이름으로 만든다.</p>

<p><img src="http://cfile2.uf.tistory.com/image/21236E3953292022033EEB" alt=""></p>

<p><img src="http://cfile28.uf.tistory.com/image/261BE8365329203901C033" alt=""></p>

<p><strong>4) PhoneGap Plugins 안의 패키지 import</strong></p>

<p>프로젝트를 생성하면 Android Studio는 하위 디렉토리를 검사해서 Android 프로젝트에 필요한 패키지들을 찾아낸다. 이 때 주의해야할 점은 ant 디렉토리 밑에 자원들은 import하지 않는다. 만약 모두 import하게 되면 Android Studio 프로젝트를 모두 만들고 나서 컴파일할 때 Class가 중복된다고 나오기 때문이다. 다음과 같이 <code>src</code>와 <code>gen</code> 디렉토리들만 import한다.</p>

<p><img src="http://cfile2.uf.tistory.com/image/2579A64E5329212D034023" alt=""></p>

<p><strong>5) PhoneGap Plugins의 라이브러리 import</strong></p>

<p>다음은 PhoneGap Plugins 프로젝트에서에 android 플랫폼을 추가하기 위해서 생성된 라이브러리를 추가하는데 역시 빌드가 완료된 라이브러리는 추가하지 않고 <code>classes</code> 만 추가한다.</p>

<p><img src="http://cfile3.uf.tistory.com/image/273D8333532921A231DE1C" alt=""></p>

<p><strong>6) PhoneGap Plugins 프로젝트의 모듈 import</strong></p>

<p>다음은 PhoneGap Plugins 프로젝트의 모듈을 추가하는 화면이 나타나는데 PhoneGap 프로젝트에서 Android 플랫폼 작업을 할 때는 PhoneGap 프로젝트의 모듈과 PhoneGap 코어 모듈인 <strong>CordovaLib</strong> 모듈을 추가한다.</p>

<p><img src="http://cfile29.uf.tistory.com/image/21246B39532922154498D1" alt=""></p>

<p><strong>7) Android SDK 추가</strong></p>

<p>마지막으로 PhoneGap Android Plugins를 개발하기 위해서 Android SDK를 임포트하는데 PC에 설치되어 있거나 Android Studio에 built-in 되어 있는 Android SDK를 선택한다.</p>

<p><img src="http://cfile7.uf.tistory.com/image/2338A536532922AB09EB97" alt=""></p>

<p><strong>8) PhoneGap Plugins 프로젝트의 AndroidManifest.xml 설정</strong></p>

<p>이젠 모든 설정이 끝났다. Android Studio가 Android 프로젝트를 import 하였기 때문에 Android 프로젝트가 가진 <code>AndroidManifest.xml</code>을 찾아서 마지막으로 설정을 하게 한다.</p>

<p><img src="http://cfile27.uf.tistory.com/image/222AD639532922F60E1BF4" alt=""></p>

<p>Android Studio는 <a href="https://gradle.org/">gradle</a> 빌드 시스템을 사용하지만 위와 같이 PhoneGap의 프로젝트를 import 할 때는 gradle을 사용하지 않는다. gradle로 migration하는 방법은 나중에 따로 포스팅을 할 예정이다. 모든 설정이 마치면 PhoneGap Android Plugins를 개발할 수 있는 Android 프로젝트가 만들어지게 된다.</p>

<p><img src="http://cfile29.uf.tistory.com/image/2756A83A5329236E1CF841" alt=""></p>

<h3 id="javascript-파일-공동-사용">JavaScript 파일 공동 사용</h3>

<p>우리는 iOS에서 JavaScript와 iOS의 네이티브 코드와 연결하기 위해서 JavaScript 인터페이스를 <code>./js/sf_phonegap_plugin_demo_echo.js</code> 파일로 만들었다. Android 코드와 연결하기 위해서 이 JavaScript를 그대로 사용하면 된다. PhoneGap의 구조가 그러하다. 동일한 웹 코드로 다양한 멀티플랫폼 자원에 접근 가능하게 설계했기 때문이다. 그래서 JavaScript의 코드는 변환 사항없이 JavaScript가 호출하는 Android 코드만 추가하면 된다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//</span>
<span class="c1">//  sf_phonegap_plugin_echo.js</span>
<span class="c1">//</span>
<span class="c1">//  Created by SungKwang Song on 3/12/14.</span>
<span class="c1">//</span>
<span class="c1">//</span>


<span class="kd">function</span> <span class="nx">SFPluginEcho</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">SFPluginEcho</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">echo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">cordova</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;SFPluginEcho&quot;</span><span class="p">,</span> <span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">message</span><span class="p">]);</span>
<span class="p">};</span>


<span class="nx">SFPluginEcho</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getMessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">callbackSuccess</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">callbackFail</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nx">cordova</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">callbackSuccess</span><span class="p">,</span> <span class="nx">callbackFail</span><span class="p">,</span> <span class="s2">&quot;SFPluginEcho&quot;</span><span class="p">,</span> <span class="s2">&quot;getMessage&quot;</span><span class="p">,</span> <span class="p">[]);</span>

<span class="p">}</span>

<span class="nx">SFPluginEcho</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">runJavaScriptFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">functionName</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">callbackFail</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nx">cordova</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">callbackFail</span><span class="p">,</span> <span class="s2">&quot;SFPluginEcho&quot;</span><span class="p">,</span> <span class="s2">&quot;runJavasScriptFunction&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">functionName</span><span class="p">]);</span>

<span class="p">}</span>

<span class="c1">// function print_message(result){</span>
<span class="c1">//   alert(result.name);</span>
<span class="c1">// }</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SFPluginEcho</span><span class="p">();</span>
</code></pre></div>
<p>우리는 위 JavaScript를 다시한번 이해하기로 한다. PhoneGap 프로젝트에서 <code>SFPluginEcho</code> 라는 Custom Plugins을 설치하고 난 다음에 우리는 <code>SFPluginEcho</code>로 네이티브 자원에 접근할 수 있는 인스턴스를 사용할 수 있는데 예제에서는 세가지 메소드를 가지고 있다.</p>

<p><strong>1) echo</strong></p>

<p>네이티브코드 <code>SFPluginEcho</code> 서비스의 이름이 <code>echo</code>인 액션을 호출한다.
예제에서는 JavaScript에서 만든 message를 네이티브 코드로 넘겨줘서 네이티브 코드의 UI 자원인 <strong>AlertDialog</strong>로 메세지를 출력한다.</p>

<p><strong>2) getMessage</strong></p>

<p>네이티브코드 SFPluginEcho 서비스의 이름이 getMessage인 액션을 호출한다.
예제에서는 Java에서 만든 <code>JSONObject</code>를 JavaScript로 넘겨서 JavaScript에서 <code>alert()</code>`로 메세지를 출력한다.</p>

<p><strong>3) runJavaScriptFunction</strong></p>

<p>네이티브코드 <code>SFPluginEcho</code> 서비스의 이름이 <code>rungJavaScriptFunction</code>인 액션을 호출한다.
예제에서는 JavaScript에서 함수이름을 네이티브 코드로 넘겨줘서, Java에서 만든 <code>JSONObject</code>를 JavaScript의 함수로 넘겨서 <code>alert()</code>로 출력한다.</p>

<h3 id="phonegap-plugins을-만들기-위해서-cordovaplugin을-상속-받은-클래스-생성">PhoneGap Plugins을 만들기 위해서 <code>CordovaPlugin</code>을 상속 받은 클래스 생성</h3>

<p>이전 포스트에서 iOS 플러그인을 만들기 위해서 <code>CDVPlugin.h</code>를 import 하여 상속받아서 만든것과 동일하게 Android 용 Plugins을 개발하기 위해서는 <code>org.apache.cordova.CordovaPlugin</code>을 상속받아서 클래스를 생성한다. 이름은 iOS 플러그인을 만들 때와 동일하게 <code>SFPluginEcho</code>로 만든다.</p>

<p><img src="http://cfile28.uf.tistory.com/image/2413E83553292532191547" alt=""></p>

<p><img src="http://cfile1.uf.tistory.com/image/2764FC34532925441D9960" alt=""></p>

<p><code>CordovaPlugin</code>을 상속받은 <code>SFPluginEcho</code>는 PhoneGap의 Android Plugins을 만들 수 있는 메소드들을 사용할 수 있게 된다. <code>SFPluginEcho.java</code>파일을 열어서 다음과 같이 수정한다. iOS용 Plugins을 만들때와 마찬가지로 JavaScript에서 네이티브코드에 접근하기 위해서는 서비스이름(클래스이름)과 action이름(메소드이름)으로 접근하기 때문에 ACTION 이름을 다음과 같이 정해주고 각각 해당하는 메소드를 호출할 수 있도록 한다. JavaScript에서 action 이름을 호출할 때는 <code>echo</code>, <code>getMessage</code>, <code>runJavaScriptFunction</code>으로 접근할 것이기 때문에 이에 해당하는 conditions을 지정하였다.</p>

<p>iOS에서 네이티브 메소드를 구현하고 난 다음에 <code>CDVPluginResult</code>를 이용해서 JavaScript로 CallBack을 호출하였는데 Android에서도 동일하게 <code>PluginResult</code>를 이용해서 CallBack을 처리할 수 있다. (이전 포스팅 참조 : <a href="http://blog.saltfactory.net/235">http://blog.saltfactory.net/235</a>)</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">net</span><span class="o">.</span><span class="na">saltfactory</span><span class="o">.</span><span class="na">tutorial</span><span class="o">.</span><span class="na">phonegap</span><span class="o">.</span><span class="na">plugindemo</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.app.AlertDialog</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.DialogInterface</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.cordova.CallbackContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.cordova.CordovaPlugin</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.cordova.PluginResult</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONArray</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.JSONObject</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by saltfactory on 3/18/14.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SFPluginEcho</span> <span class="kd">extends</span> <span class="n">CordovaPlugin</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ACTION_ECHO</span> <span class="o">=</span> <span class="s">&quot;echo&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ACTION_GET_MESSAGE</span> <span class="o">=</span> <span class="s">&quot;getMessage&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ACTION_RUN_JAVASCRIPT_FUNCTION</span> <span class="o">=</span> <span class="s">&quot;runJavasScriptFunction&quot;</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">execute</span><span class="o">(</span><span class="n">String</span> <span class="n">action</span><span class="o">,</span> <span class="n">JSONArray</span> <span class="n">args</span><span class="o">,</span> <span class="n">CallbackContext</span> <span class="n">callbackContext</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">action</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">ACTION_ECHO</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="na">echo</span><span class="o">(</span><span class="n">message</span><span class="o">,</span> <span class="n">callbackContext</span><span class="o">);</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">action</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">ACTION_GET_MESSAGE</span><span class="o">)){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">getMessage</span><span class="o">(</span><span class="n">callbackContext</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">action</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">ACTION_RUN_JAVASCRIPT_FUNCTION</span><span class="o">)){</span>
            <span class="n">String</span> <span class="n">functionName</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="na">runJavaScriptFunction</span><span class="o">(</span><span class="n">functionName</span><span class="o">,</span> <span class="n">callbackContext</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">echo</span><span class="o">(</span><span class="n">String</span> <span class="n">message</span><span class="o">,</span> <span class="n">CallbackContext</span> <span class="n">callbackContext</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">message</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">message</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>

            <span class="n">AlertDialog</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AlertDialog</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">cordova</span><span class="o">.</span><span class="na">getActivity</span><span class="o">());</span>
            <span class="n">builder</span><span class="o">.</span><span class="na">setMessage</span><span class="o">(</span><span class="n">message</span><span class="o">).</span><span class="na">setPositiveButton</span><span class="o">(</span><span class="s">&quot;확인&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">DialogInterface</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">DialogInterface</span> <span class="n">dialogInterface</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>

                <span class="o">}</span>
            <span class="o">});</span>

            <span class="n">AlertDialog</span> <span class="n">dialog</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>
            <span class="n">dialog</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>

            <span class="n">callbackContext</span><span class="o">.</span><span class="na">sendPluginResult</span><span class="o">(</span><span class="k">new</span> <span class="nf">PluginResult</span><span class="o">(</span><span class="n">PluginResult</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">OK</span><span class="o">,</span> <span class="n">message</span><span class="o">));</span>
            <span class="n">callbackContext</span><span class="o">.</span><span class="na">success</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">callbackContext</span><span class="o">.</span><span class="na">sendPluginResult</span><span class="o">(</span><span class="k">new</span> <span class="nf">PluginResult</span><span class="o">(</span><span class="n">PluginResult</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">ERROR</span><span class="o">,</span> <span class="s">&quot;Expected one non-empty string argument.&quot;</span><span class="o">));</span>
            <span class="n">callbackContext</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="s">&quot;Expected one non-empty string argument.&quot;</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>


    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">getMessage</span><span class="o">(</span><span class="n">CallbackContext</span> <span class="n">callbackContext</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">jsonObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">JSONObject</span><span class="o">();</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;Anroid에서 만든 메세지&quot;</span><span class="o">);</span>

        <span class="n">callbackContext</span><span class="o">.</span><span class="na">sendPluginResult</span><span class="o">(</span><span class="k">new</span> <span class="nf">PluginResult</span><span class="o">(</span><span class="n">PluginResult</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">OK</span><span class="o">,</span> <span class="n">jsonObject</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">runJavaScriptFunction</span><span class="o">(</span><span class="n">String</span> <span class="n">functionName</span><span class="o">,</span> <span class="kd">final</span> <span class="n">CallbackContext</span> <span class="n">callbackContext</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">jsonObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">JSONObject</span><span class="o">();</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;Android 에서 JavaScript의 &quot;</span><span class="o">+</span><span class="n">functionName</span> <span class="o">+</span> <span class="s">&quot;함수 호출&quot;</span><span class="o">);</span>

        <span class="kd">final</span> <span class="n">String</span> <span class="n">javascriptString</span> <span class="o">=</span> <span class="s">&quot;print_message(&quot;</span> <span class="o">+</span> <span class="n">jsonObject</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;)&quot;</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">webView</span><span class="o">.</span><span class="na">sendJavascript</span><span class="o">(</span><span class="n">javascriptString</span><span class="o">);</span>


        <span class="n">callbackContext</span><span class="o">.</span><span class="na">sendPluginResult</span><span class="o">(</span><span class="k">new</span> <span class="nf">PluginResult</span><span class="o">(</span><span class="n">PluginResult</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">OK</span><span class="o">));</span>


    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>코드에 대한 설명은 이전 포스팅(<a href="http://blog.saltfactory.net/235)%EC%9D%98">http://blog.saltfactory.net/235)의</a> 내용과 동일하다. iOS에서는 <strong><em>CDV</em></strong>라는 prefix만 붙어있는 것을 제외하고는 동장하는 방법도 클래스와 메소드이름도 거의 비슷하기 때문에 각 코드의 설명은 생략한다. 다만 네이티브 코드에서 JavaScript로 JSON 오브젝트를 넘기는 것을 살펴보면 iOS에서는 NSDictionary 타입으로 만들어서 String으로 변환해서 넘겨준것과 달리 Android에서는 JSONObject를 이용해서 String으로 변환해서 넘겨준다는 것만 틀리다. 그리고 iOS에서는 네이티브코드에서 JavaScript쪽으로 함수를 호출할 때는 <code>[self.commandDelegate evalJs:]</code>를 사용한 것과 달리 Android에서는 <code>webView.sendJavascript()</code> 라는 메소드를 사용하는 것만 다를 뿐이다.</p>

<h3 id="javascript-인터페이스는-동일하게-사용">JavaScript 인터페이스는 동일하게 사용</h3>

<p>iOS 플러그인을 만들때 웹에서 네이티브 코드로 접근하기 위해서 <code>js/sf_phonegap_plugin_demo_echo.js</code>를 만들어서 사용했는데 PhoneGap의 특성으로 동일한 JavaScript 를 사용해서 <code>cordova.exec</code>가 호출하는 서비스이름과 엑션 이름만으로 웹과 네이티브 코드가 연결되기 때문에 수정을 하지 않고도 바로 매칭되는 네이티브 코드로 접근하기 때문에 JavaScript는 수정할 필요가 없다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//</span>
<span class="c1">//  sf_phonegap_plugin_echo.js</span>
<span class="c1">//</span>
<span class="c1">//  Created by SungKwang Song on 3/12/14.</span>
<span class="c1">//</span>
<span class="c1">//</span>


<span class="kd">function</span> <span class="nx">SFPluginEcho</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">SFPluginEcho</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">echo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">cordova</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;SFPluginEcho&quot;</span><span class="p">,</span> <span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">message</span><span class="p">]);</span>
<span class="p">};</span>


<span class="nx">SFPluginEcho</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getMessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">callbackSuccess</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">callbackFail</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nx">cordova</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">callbackSuccess</span><span class="p">,</span> <span class="nx">callbackFail</span><span class="p">,</span> <span class="s2">&quot;SFPluginEcho&quot;</span><span class="p">,</span> <span class="s2">&quot;getMessage&quot;</span><span class="p">,</span> <span class="p">[]);</span>

<span class="p">}</span>

<span class="nx">SFPluginEcho</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">runJavaScriptFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">functionName</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">callbackFail</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nx">cordova</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">callbackFail</span><span class="p">,</span> <span class="s2">&quot;SFPluginEcho&quot;</span><span class="p">,</span> <span class="s2">&quot;runJavasScriptFunction&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">functionName</span><span class="p">]);</span>

<span class="p">}</span>

<span class="c1">// function print_message(result){</span>
<span class="c1">//   alert(result.name);</span>
<span class="c1">// }</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SFPluginEcho</span><span class="p">();</span>
</code></pre></div>
<p>마찬가지로 <code>www/index.html</code> 파일 역시 iOS 플러그인을 만들 때와 동일하게 사용할 수 있다.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">    Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="c">    or more contributor license agreements.  See the NOTICE file</span>
<span class="c">    distributed with this work for additional information</span>
<span class="c">    regarding copyright ownership.  The ASF licenses this file</span>
<span class="c">    to you under the Apache License, Version 2.0 (the</span>
<span class="c">    &quot;License&quot;); you may not use this file except in compliance</span>
<span class="c">    with the License.  You may obtain a copy of the License at</span>

<span class="c">    http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="c">    Unless required by applicable law or agreed to in writing,</span>
<span class="c">    software distributed under the License is distributed on an</span>
<span class="c">    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<span class="c">     KIND, either express or implied.  See the License for the</span>
<span class="c">    specific language governing permissions and limitations</span>
<span class="c">    under the License.</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;format-detection&quot;</span> <span class="na">content=</span><span class="s">&quot;telephone=no&quot;</span> <span class="nt">/&gt;</span>
        <span class="c">&lt;!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 --&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;css/index.css&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;app&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h1&gt;</span>PhoneGap<span class="nt">&lt;/h1&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;deviceready&quot;</span> <span class="na">class=</span><span class="s">&quot;blink&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event listening&quot;</span><span class="nt">&gt;</span>Connecting to Device<span class="nt">&lt;/p&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event received&quot;</span><span class="nt">&gt;</span>Device is Ready<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;phonegap.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;js/sf_phonegap_plugin_demo_echo.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

        <span class="kd">function</span> <span class="nx">print_message</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
          <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kd">function</span> <span class="nx">runEcho</span><span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">pluginEcho</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SFPluginEcho</span><span class="p">();</span>
          <span class="c1">// pluginEcho.echo(&quot;웹에서 보낸 메세지를 AlertDialog를 이용해서 보기&quot;);</span>
          <span class="c1">// pluginEcho.getMessage();</span>
          <span class="nx">pluginEcho</span><span class="p">.</span><span class="nx">runJavaScriptFunction</span><span class="p">(</span><span class="s2">&quot;print_message&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;deviceready&#39;</span><span class="p">,</span> <span class="nx">runEcho</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<h3 id="javascript와-네이티브코드가-연결-설정">JavaScript와 네이티브코드가 연결 설정</h3>

<p>위의 과정까지 모두 끝냈으면 이제 JavaScript 코드와 네이티브코드가 서로 연결되는지 살펴보자. 첫번째로 SFPluginEcho의 echo()를 실행해보자. www/index.html 파일을 다음과 같이 수정한다.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">    Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="c">    or more contributor license agreements.  See the NOTICE file</span>
<span class="c">    distributed with this work for additional information</span>
<span class="c">    regarding copyright ownership.  The ASF licenses this file</span>
<span class="c">    to you under the Apache License, Version 2.0 (the</span>
<span class="c">    &quot;License&quot;); you may not use this file except in compliance</span>
<span class="c">    with the License.  You may obtain a copy of the License at</span>

<span class="c">    http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="c">    Unless required by applicable law or agreed to in writing,</span>
<span class="c">    software distributed under the License is distributed on an</span>
<span class="c">    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<span class="c">     KIND, either express or implied.  See the License for the</span>
<span class="c">    specific language governing permissions and limitations</span>
<span class="c">    under the License.</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;format-detection&quot;</span> <span class="na">content=</span><span class="s">&quot;telephone=no&quot;</span> <span class="nt">/&gt;</span>
        <span class="c">&lt;!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 --&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;css/index.css&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;app&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h1&gt;</span>PhoneGap<span class="nt">&lt;/h1&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;deviceready&quot;</span> <span class="na">class=</span><span class="s">&quot;blink&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event listening&quot;</span><span class="nt">&gt;</span>Connecting to Device<span class="nt">&lt;/p&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event received&quot;</span><span class="nt">&gt;</span>Device is Ready<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;phonegap.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;js/sf_phonegap_plugin_demo_echo.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

        <span class="kd">function</span> <span class="nx">print_message</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
          <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kd">function</span> <span class="nx">runEcho</span><span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">pluginEcho</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SFPluginEcho</span><span class="p">();</span>
          <span class="nx">pluginEcho</span><span class="p">.</span><span class="nx">echo</span><span class="p">(</span><span class="s2">&quot;웹에서 보낸 메세지를 AlertDialog를 이용해서 보기&quot;</span><span class="p">);</span>
          <span class="c1">// pluginEcho.getMessage();</span>
          <span class="c1">// pluginEcho.runJavaScriptFunction(&quot;print_message&quot;);</span>
        <span class="p">}</span>

        <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;deviceready&#39;</span><span class="p">,</span> <span class="nx">runEcho</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>이젠 PhoneGap CLI를 이용해서 빌드하고 설치해보자.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build android
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local install android
</code></pre></div>
<p><img src="http://cfile23.uf.tistory.com/image/215BE13553292A251FF298" alt=""></p>

<p>그런데 실행해보면 JavaScript가 <code>SFPluginEcho</code>의 <code>echo()</code>를 호출했음에도 불구하고 아무런 동작이 일어나지 않는다. 이유는 JavaScript에서 <code>SFPluginEcho</code>라는 서비스이름이 어떤 클래스와 매핑되는지를 설정하지 않았기 때문이다. 우리는 앞에서 iOS용 플러그인을 만들 때 <code>context.xml</code>에 <code>feature</code>를 추가한 것을 기억할 것이다. Android의 네이티브 클래스를 사용하기 위해서 존재하는 feature에 다음을 추가한다.
<code>SFPluginEcho</code>는 <code>net.saltfactory.tutorial.phonegap.plugindemo.SFPluginEcho</code> 클래스를 지정하고 있다고 <code>feature</code>에 추가한다.</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml">?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

<span class="c">&lt;!-- config.xml reference: https://build.phonegap.com/docs/config-xml --&gt;</span>
<span class="nt">&lt;widget</span> <span class="na">xmlns     =</span> <span class="s">&quot;http://www.w3.org/ns/widgets&quot;</span>
        <span class="na">xmlns:gap =</span> <span class="s">&quot;http://phonegap.com/ns/1.0&quot;</span>
        <span class="na">id        =</span> <span class="s">&quot;net.saltfactory.tutorial.phonegap.plugindemo&quot;</span>
        <span class="na">version   =</span> <span class="s">&quot;1.0.0&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;name&gt;</span>SF-PhoneGap-Plugin-Demo<span class="nt">&lt;/name&gt;</span>

    <span class="nt">&lt;description&gt;</span>
        Hello World sample application that responds to the deviceready event.
    <span class="nt">&lt;/description&gt;</span>

    <span class="nt">&lt;author</span> <span class="na">href=</span><span class="s">&quot;http://phonegap.com&quot;</span> <span class="na">email=</span><span class="s">&quot;support@phonegap.com&quot;</span><span class="nt">&gt;</span>
        PhoneGap Team
    <span class="nt">&lt;/author&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        Enable individual API permissions here.</span>
<span class="c">        The &quot;device&quot; permission is required for the &#39;deviceready&#39; event.</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;feature</span> <span class="na">name=</span><span class="s">&quot;http://api.phonegap.com/1.0/device&quot;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;feature</span> <span class="na">name=</span><span class="s">&quot;SFPluginEcho&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;ios-package&quot;</span> <span class="na">value=</span><span class="s">&quot;SFPluginEcho&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;android-package&quot;</span> <span class="na">value=</span><span class="s">&quot;net.saltfactory.tutorial.phonegap.plugindemo.SFPluginEcho&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;onload&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/feature&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        If you do not want any permissions to be added to your app, add the</span>
<span class="c">        following tag to your config.xml; you will still have the INTERNET</span>
<span class="c">        permission on your app, which PhoneGap requires.</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;permissions&quot;</span>                <span class="na">value=</span><span class="s">&quot;none&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!-- Customize your app and platform with the preference element. --&gt;</span>
    <span class="c">&lt;!-- &lt;preference name=&quot;phonegap-version&quot;      value=&quot;3.4.0&quot; /&gt; --&gt;</span>      <span class="c">&lt;!-- all: current version of PhoneGap --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;orientation&quot;</span>                <span class="na">value=</span><span class="s">&quot;default&quot;</span> <span class="nt">/&gt;</span>        <span class="c">&lt;!-- all: default means both landscape and portrait are enabled --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;target-device&quot;</span>              <span class="na">value=</span><span class="s">&quot;universal&quot;</span> <span class="nt">/&gt;</span>      <span class="c">&lt;!-- all: possible values handset, tablet, or universal --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;fullscreen&quot;</span>                 <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>           <span class="c">&lt;!-- all: hides the status bar at the top of the screen --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;webviewbounce&quot;</span>              <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>           <span class="c">&lt;!-- ios: control whether the screen &#39;bounces&#39; when scrolled beyond the top --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;prerendered-icon&quot;</span>           <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>           <span class="c">&lt;!-- ios: if icon is prerendered, iOS will not apply it&#39;s gloss to the app&#39;s icon on the user&#39;s home screen --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;stay-in-webview&quot;</span>            <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>          <span class="c">&lt;!-- ios: external links should open in the default browser, &#39;true&#39; would use the webview the app lives in --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;ios-statusbarstyle&quot;</span>         <span class="na">value=</span><span class="s">&quot;black-opaque&quot;</span> <span class="nt">/&gt;</span>   <span class="c">&lt;!-- ios: black-translucent will appear black because the PhoneGap webview doesn&#39;t go beneath the status bar --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;detect-data-types&quot;</span>          <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>           <span class="c">&lt;!-- ios: controls whether data types (such as phone no. and dates) are automatically turned into links by the system --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;exit-on-suspend&quot;</span>            <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>          <span class="c">&lt;!-- ios: if set to true, app will terminate when home button is pressed --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;show-splash-screen-spinner&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>           <span class="c">&lt;!-- ios: if set to false, the spinner won&#39;t appear on the splash screen during app loading --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;auto-hide-splash-screen&quot;</span>    <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>           <span class="c">&lt;!-- ios: if set to false, the splash screen must be hidden using a JavaScript API --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;disable-cursor&quot;</span>             <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>          <span class="c">&lt;!-- blackberry: prevents a mouse-icon/cursor from being displayed on the app --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;android-minSdkVersion&quot;</span>      <span class="na">value=</span><span class="s">&quot;7&quot;</span> <span class="nt">/&gt;</span>              <span class="c">&lt;!-- android: MIN SDK version supported on the target device. MAX version is blank by default. --&gt;</span>
    <span class="nt">&lt;preference</span> <span class="na">name=</span><span class="s">&quot;android-installLocation&quot;</span>    <span class="na">value=</span><span class="s">&quot;auto&quot;</span> <span class="nt">/&gt;</span>           <span class="c">&lt;!-- android: app install location. &#39;auto&#39; will choose. &#39;internalOnly&#39; is device memory. &#39;preferExternal&#39; is SDCard. --&gt;</span>

    <span class="c">&lt;!-- Plugins can also be added here. --&gt;</span>
    <span class="c">&lt;!--</span>
<span class="c">        &lt;gap:plugin name=&quot;Example&quot; /&gt;</span>
<span class="c">        A list of available plugins are available at https://build.phonegap.com/docs/plugins</span>
<span class="c">    --&gt;</span>

    <span class="c">&lt;!-- Define app icon for each platform. --&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;icon.png&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/android/icon-36-ldpi.png&quot;</span>   <span class="na">gap:platform=</span><span class="s">&quot;android&quot;</span>    <span class="na">gap:density=</span><span class="s">&quot;ldpi&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/android/icon-48-mdpi.png&quot;</span>   <span class="na">gap:platform=</span><span class="s">&quot;android&quot;</span>    <span class="na">gap:density=</span><span class="s">&quot;mdpi&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/android/icon-72-hdpi.png&quot;</span>   <span class="na">gap:platform=</span><span class="s">&quot;android&quot;</span>    <span class="na">gap:density=</span><span class="s">&quot;hdpi&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/android/icon-96-xhdpi.png&quot;</span>  <span class="na">gap:platform=</span><span class="s">&quot;android&quot;</span>    <span class="na">gap:density=</span><span class="s">&quot;xhdpi&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/blackberry/icon-80.png&quot;</span>     <span class="na">gap:platform=</span><span class="s">&quot;blackberry&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/blackberry/icon-80.png&quot;</span>     <span class="na">gap:platform=</span><span class="s">&quot;blackberry&quot;</span> <span class="na">gap:state=</span><span class="s">&quot;hover&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/ios/icon-57.png&quot;</span>            <span class="na">gap:platform=</span><span class="s">&quot;ios&quot;</span>        <span class="na">width=</span><span class="s">&quot;57&quot;</span> <span class="na">height=</span><span class="s">&quot;57&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/ios/icon-72.png&quot;</span>            <span class="na">gap:platform=</span><span class="s">&quot;ios&quot;</span>        <span class="na">width=</span><span class="s">&quot;72&quot;</span> <span class="na">height=</span><span class="s">&quot;72&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/ios/icon-57-2x.png&quot;</span>         <span class="na">gap:platform=</span><span class="s">&quot;ios&quot;</span>        <span class="na">width=</span><span class="s">&quot;114&quot;</span> <span class="na">height=</span><span class="s">&quot;114&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/ios/icon-72-2x.png&quot;</span>         <span class="na">gap:platform=</span><span class="s">&quot;ios&quot;</span>        <span class="na">width=</span><span class="s">&quot;144&quot;</span> <span class="na">height=</span><span class="s">&quot;144&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/webos/icon-64.png&quot;</span>          <span class="na">gap:platform=</span><span class="s">&quot;webos&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/windows-phone/icon-48.png&quot;</span>  <span class="na">gap:platform=</span><span class="s">&quot;winphone&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;icon</span> <span class="na">src=</span><span class="s">&quot;res/icon/windows-phone/icon-173.png&quot;</span> <span class="na">gap:platform=</span><span class="s">&quot;winphone&quot;</span>   <span class="na">gap:role=</span><span class="s">&quot;background&quot;</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- Define app splash screen for each platform. --&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/android/screen-ldpi-portrait.png&quot;</span>  <span class="na">gap:platform=</span><span class="s">&quot;android&quot;</span> <span class="na">gap:density=</span><span class="s">&quot;ldpi&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/android/screen-mdpi-portrait.png&quot;</span>  <span class="na">gap:platform=</span><span class="s">&quot;android&quot;</span> <span class="na">gap:density=</span><span class="s">&quot;mdpi&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/android/screen-hdpi-portrait.png&quot;</span>  <span class="na">gap:platform=</span><span class="s">&quot;android&quot;</span> <span class="na">gap:density=</span><span class="s">&quot;hdpi&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/android/screen-xhdpi-portrait.png&quot;</span> <span class="na">gap:platform=</span><span class="s">&quot;android&quot;</span> <span class="na">gap:density=</span><span class="s">&quot;xhdpi&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/blackberry/screen-225.png&quot;</span>         <span class="na">gap:platform=</span><span class="s">&quot;blackberry&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/ios/screen-iphone-portrait.png&quot;</span>    <span class="na">gap:platform=</span><span class="s">&quot;ios&quot;</span>     <span class="na">width=</span><span class="s">&quot;320&quot;</span> <span class="na">height=</span><span class="s">&quot;480&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/ios/screen-iphone-portrait-2x.png&quot;</span> <span class="na">gap:platform=</span><span class="s">&quot;ios&quot;</span>     <span class="na">width=</span><span class="s">&quot;640&quot;</span> <span class="na">height=</span><span class="s">&quot;960&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/ios/screen-ipad-portrait.png&quot;</span>      <span class="na">gap:platform=</span><span class="s">&quot;ios&quot;</span>     <span class="na">width=</span><span class="s">&quot;768&quot;</span> <span class="na">height=</span><span class="s">&quot;1024&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/ios/screen-ipad-landscape.png&quot;</span>     <span class="na">gap:platform=</span><span class="s">&quot;ios&quot;</span>     <span class="na">width=</span><span class="s">&quot;1024&quot;</span> <span class="na">height=</span><span class="s">&quot;768&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;gap:splash</span> <span class="na">src=</span><span class="s">&quot;res/screen/windows-phone/screen-portrait.jpg&quot;</span> <span class="na">gap:platform=</span><span class="s">&quot;winphone&quot;</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        Define access to external domains.</span>

<span class="c">        &lt;access /&gt;            - a blank access tag denies access to all external resources.</span>
<span class="c">        &lt;access origin=&quot;*&quot; /&gt; - a wildcard access tag allows access to all external resource.</span>

<span class="c">        Otherwise, you can specify specific domains:</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;access</span> <span class="na">origin=</span><span class="s">&quot;http://127.0.0.1*&quot;</span><span class="nt">/&gt;</span> <span class="c">&lt;!-- allow local pages --&gt;</span>
    <span class="c">&lt;!--</span>
<span class="c">        &lt;access origin=&quot;http://phonegap.com&quot; /&gt;                    - allow any secure requests to http://phonegap.com/</span>
<span class="c">        &lt;access origin=&quot;http://phonegap.com&quot; subdomains=&quot;true&quot; /&gt;  - same as above, but including subdomains, such as http://build.phonegap.com/</span>
<span class="c">        &lt;access origin=&quot;http://phonegap.com&quot; browserOnly=&quot;true&quot; /&gt; - only allows http://phonegap.com to be opened by the child browser.</span>
<span class="c">    --&gt;</span>

<span class="nt">&lt;/widget&gt;</span>
</code></pre></div>
<p>다시 PhoneGap CLI로 빌드하고 인스톨해보자.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build android
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local install android
</code></pre></div>
<p>이젠 다음 그림과 같이 <code>SFPluginEcho</code>의 <code>echo()</code>를 실행해서 네이티브 코드의 <code>SFPluginEcho</code>의 <code>echo</code> 액션을 실행한 것을 확인할 수 있다.</p>

<p><img src="http://cfile29.uf.tistory.com/image/233E4A3E53292B4A01AD0C" alt=""></p>

<p>다른 JavaScript 메소드를 실행해보자. 위에는 JavaScript에서 메세지를 Android 네이티브 코드로 보내어 Android의 <code>AlertDialog</code>를 사용해서 출력했다면, <code>getMessage()</code>는 Android의 네이티브 코드에서 생성한 <code>JSONObject</code>를 JavaScript로 반환해서 웹에서 alert()를 출력하는 예제이다. <code>www/index.html</code>을 다음과 같이 수정한다.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">    Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="c">    or more contributor license agreements.  See the NOTICE file</span>
<span class="c">    distributed with this work for additional information</span>
<span class="c">    regarding copyright ownership.  The ASF licenses this file</span>
<span class="c">    to you under the Apache License, Version 2.0 (the</span>
<span class="c">    &quot;License&quot;); you may not use this file except in compliance</span>
<span class="c">    with the License.  You may obtain a copy of the License at</span>

<span class="c">    http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="c">    Unless required by applicable law or agreed to in writing,</span>
<span class="c">    software distributed under the License is distributed on an</span>
<span class="c">    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<span class="c">     KIND, either express or implied.  See the License for the</span>
<span class="c">    specific language governing permissions and limitations</span>
<span class="c">    under the License.</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;format-detection&quot;</span> <span class="na">content=</span><span class="s">&quot;telephone=no&quot;</span> <span class="nt">/&gt;</span>
        <span class="c">&lt;!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 --&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;css/index.css&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;app&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h1&gt;</span>PhoneGap<span class="nt">&lt;/h1&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;deviceready&quot;</span> <span class="na">class=</span><span class="s">&quot;blink&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event listening&quot;</span><span class="nt">&gt;</span>Connecting to Device<span class="nt">&lt;/p&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event received&quot;</span><span class="nt">&gt;</span>Device is Ready<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;phonegap.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;js/sf_phonegap_plugin_demo_echo.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

        <span class="kd">function</span> <span class="nx">print_message</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
          <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kd">function</span> <span class="nx">runEcho</span><span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">pluginEcho</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SFPluginEcho</span><span class="p">();</span>
          <span class="c1">// pluginEcho.echo(&quot;웹에서 보낸 메세지를 AlertDialog를 이용해서 보기&quot;);</span>
          <span class="nx">pluginEcho</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">();</span>
          <span class="c1">// pluginEcho.runJavaScriptFunction(&quot;print_message&quot;);</span>
        <span class="p">}</span>

        <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;deviceready&#39;</span><span class="p">,</span> <span class="nx">runEcho</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>PhoneGap 소스에 수정이 가해졌기 때문에 다시 빌드하고 인스톨을 진행한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build android
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local install android
</code></pre></div>
<p><img src="http://cfile26.uf.tistory.com/image/2529E14453292C3F2A29A5" alt=""></p>

<p><code>SFPluginEcho</code>의 <code>getMessage()</code> 역시 정상적으로 동작한다. 이 예제는 Android의 <code>SFPluginEcho</code> 안에서 <code>getMessage</code>라는 action이 들어오면 네이티브에서 JSON을 만들어서 JavaScript로 반환하여 JavaScript가 <code>alert()</code>를 보여주는 예제이다. 마지막으로 <code>SFPluginEcho</code>의 <code>runJavaScriptFunction</code> 을 실행하기 위해서 <code>www/index.html</code> 파일을 다음과 같이 수정한다.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">    Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="c">    or more contributor license agreements.  See the NOTICE file</span>
<span class="c">    distributed with this work for additional information</span>
<span class="c">    regarding copyright ownership.  The ASF licenses this file</span>
<span class="c">    to you under the Apache License, Version 2.0 (the</span>
<span class="c">    &quot;License&quot;); you may not use this file except in compliance</span>
<span class="c">    with the License.  You may obtain a copy of the License at</span>

<span class="c">    http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="c">    Unless required by applicable law or agreed to in writing,</span>
<span class="c">    software distributed under the License is distributed on an</span>
<span class="c">    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<span class="c">     KIND, either express or implied.  See the License for the</span>
<span class="c">    specific language governing permissions and limitations</span>
<span class="c">    under the License.</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;format-detection&quot;</span> <span class="na">content=</span><span class="s">&quot;telephone=no&quot;</span> <span class="nt">/&gt;</span>
        <span class="c">&lt;!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 --&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;css/index.css&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;app&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h1&gt;</span>PhoneGap<span class="nt">&lt;/h1&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;deviceready&quot;</span> <span class="na">class=</span><span class="s">&quot;blink&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event listening&quot;</span><span class="nt">&gt;</span>Connecting to Device<span class="nt">&lt;/p&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event received&quot;</span><span class="nt">&gt;</span>Device is Ready<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;phonegap.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;js/sf_phonegap_plugin_demo_echo.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

        <span class="kd">function</span> <span class="nx">print_message</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
          <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kd">function</span> <span class="nx">runEcho</span><span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">pluginEcho</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SFPluginEcho</span><span class="p">();</span>
          <span class="c1">// pluginEcho.echo(&quot;웹에서 보낸 메세지를 AlertDialog를 이용해서 보기&quot;);</span>
          <span class="c1">// pluginEcho.getMessage();</span>
          <span class="nx">pluginEcho</span><span class="p">.</span><span class="nx">runJavaScriptFunction</span><span class="p">(</span><span class="s2">&quot;print_message&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;deviceready&#39;</span><span class="p">,</span> <span class="nx">runEcho</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p><code>runJavaScriptFunction()</code>은 말 그대로 네이티브코드로 JavaScript의 함수 이름을 보내어 네이티브코드에서 JavaScript 안에 함수이름과 매칭되는 함수를 호출하게 만들었다. 위와 같이 수정후 다시 빌드하고 인스톨을 해본다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build android
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local install android
</code></pre></div>
<p><img src="http://cfile1.uf.tistory.com/image/251D834253292D5C105943" alt=""></p>

<p>이렇게 PhoneGap Plugins 프로젝트에서 JavaScript와 네이티브 클래스와 메소드에 접근하는 것을 확인했다. 이젠 이렇게 만든 PhoneGap Android Plugins을 다른 PhoneGap 프로젝트에 설치를 해보자.</p>

<h3 id="phonegap-프로젝트에-phonegap-plugins을-설치">PhoneGap 프로젝트에 PhoneGap Plugins을 설치</h3>

<p>설치방법은 이전글에서 소개한 방법과 같다. 이전글은 iOS 플러그인을 설치하는 방법과 동일하게 PhoneGap Plugins의<code>www/plugin.xml</code>을 수정한다.</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="nt">&lt;plugin</span> <span class="na">xmlns=</span><span class="s">&quot;http://apache.org/cordova/ns/plugins/1.0&quot;</span>
    <span class="na">xmlns:rim=</span><span class="s">&quot;http://www.blackberry.com/ns/widgets&quot;</span>
    <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">id=</span><span class="s">&quot;net.saltfactory.tutorial.phonegap.plugindemo&quot;</span>
    <span class="na">version=</span><span class="s">&quot;0.0.1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;name&gt;</span>SFPluginEcho<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;description&gt;</span>saltfactory&#39;s Echo Plugin Demo<span class="nt">&lt;/description&gt;</span>

<span class="nt">&lt;js-module</span> <span class="na">src=</span><span class="s">&quot;www/js/sf_phonegap_plugin_demo_echo.js&quot;</span> <span class="na">name=</span><span class="s">&quot;sf_phonegap_plugin_demo_echo&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;clobbers</span> <span class="na">target=</span><span class="s">&quot;sf_phonegap_plugin_demo_echo&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/js-module&gt;</span>

    <span class="c">&lt;!-- ios --&gt;</span>
    <span class="nt">&lt;platform</span> <span class="na">name=</span><span class="s">&quot;ios&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;config-file</span> <span class="na">target=</span><span class="s">&quot;config.xml&quot;</span> <span class="na">parent=</span><span class="s">&quot;/*&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;feature</span> <span class="na">name=</span><span class="s">&quot;SFPluginEcho&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;ios-package&quot;</span> <span class="na">value=</span><span class="s">&quot;SFPluginEcho&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/feature&gt;</span>
        <span class="nt">&lt;/config-file&gt;</span>

        <span class="nt">&lt;header-file</span> <span class="na">src=</span><span class="s">&quot;platforms/ios/SF-PhoneGap-Plugin-Demo/Plugins/SFPluginEcho.h&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;source-file</span> <span class="na">src=</span><span class="s">&quot;platforms/ios/SF-PhoneGap-Plugin-Demo/Plugins/SFPluginEcho.m&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/platform&gt;</span>

    <span class="c">&lt;!-- andorid --&gt;</span>
    <span class="nt">&lt;platform</span> <span class="na">name=</span><span class="s">&quot;android&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;config-file</span> <span class="na">target=</span><span class="s">&quot;config.xml&quot;</span> <span class="na">parent=</span><span class="s">&quot;/*&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;feature</span> <span class="na">name=</span><span class="s">&quot;SFPluginEcho&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;android-package&quot;</span> <span class="na">value=</span><span class="s">&quot;net.saltfactory.tutorial.phonegap.plugindemo.SFPluginEcho&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/feature&gt;</span>
      <span class="nt">&lt;/config-file&gt;</span>

      <span class="nt">&lt;source-file</span> <span class="na">src=</span><span class="s">&quot;platforms/android/src/net/saltfactory/tutorial/phonegap/plugindemo/SFPluginEcho.java&quot;</span>
        <span class="na">target-dir=</span><span class="s">&quot;src/net/saltfactory/tutorial/phonegap/plugindemo&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/platform&gt;</span>


<span class="nt">&lt;/plugin&gt;</span>
</code></pre></div>
<h3 id="plugins-설치">Plugins 설치</h3>

<p>위에 PhoneGap용 Android Plugins에 필요한 설정을  모두 마쳤다. 이젠 다른 PhoneGap 프로젝트에서 만든 Plugins을 설치해보자. 우리는 앞에서부터 계속해서 <strong>sf-phonegap-demo</strong> 프로젝트를 사용하고 있기 때문에 <strong>sf-phonegap-demo</strong> 안에서 위에서 만든 <strong>SF-PhoneGap-Plugin-Demo</strong> 플러그인을 설치해 보기로 한다.</p>

<p>1) sf-phonegap-demo 디렉토리로 이동한다.
2) 현재 sf-phonegap-demo 안에는 이전 포스팅을 진행하느라고 만든 iOS 프로젝트가 추가되어져 있는 상태이다. PhoneGap CLI를 이용해서 android 플랫폼을 추가한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build android
</code></pre></div>
<p>3) iOS 플러그인만을 만들어서 설치했던 이전 <strong>net.saltfactory.tutorial.phonegap.plugindemo</strong> 플러그인을 삭제한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin remove net.saltfactory.tutorial.phonegap.plugindemo
</code></pre></div>
<p><img src="http://cfile8.uf.tistory.com/image/212CB1455329305703DC1D" alt=""></p>

<p>4) ios와 android 플러그인을 모두 만들어둔 <strong>SF-PhoneGap-Plugin-Demo</strong>를 다시 설치한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add ../sf-phonegap-plugin-demo
</code></pre></div>
<p><img src="http://cfile30.uf.tistory.com/image/216998435329310A16DDA3" alt=""></p>

<p>이제 PhoneGap 프로젝트에 PhoneGap Plugins이 설치가 모두 완료되었다. PhoneGap 프로젝트의 <code>www/index.html</code>을 열어보자. 이전 포스팅에서 iOS 플러그인을 추가해서 동작하게 한 JavaScript 코드가 그대로 있는데 이것을 Android에도 동일하게 사용 가능한지 테스트해볼 것이다.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">    Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="c">    or more contributor license agreements.  See the NOTICE file</span>
<span class="c">    distributed with this work for additional information</span>
<span class="c">    regarding copyright ownership.  The ASF licenses this file</span>
<span class="c">    to you under the Apache License, Version 2.0 (the</span>
<span class="c">    &quot;License&quot;); you may not use this file except in compliance</span>
<span class="c">    with the License.  You may obtain a copy of the License at</span>

<span class="c">    http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="c">    Unless required by applicable law or agreed to in writing,</span>
<span class="c">    software distributed under the License is distributed on an</span>
<span class="c">    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<span class="c">     KIND, either express or implied.  See the License for the</span>
<span class="c">    specific language governing permissions and limitations</span>
<span class="c">    under the License.</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;format-detection&quot;</span> <span class="na">content=</span><span class="s">&quot;telephone=no&quot;</span> <span class="nt">/&gt;</span>
        <span class="c">&lt;!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 --&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;css/index.css&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;app&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h1&gt;</span>PhoneGap<span class="nt">&lt;/h1&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;deviceready&quot;</span> <span class="na">class=</span><span class="s">&quot;blink&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event listening&quot;</span><span class="nt">&gt;</span>Connecting to Device<span class="nt">&lt;/p&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;event received&quot;</span><span class="nt">&gt;</span>Device is Ready<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;phonegap.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

        <span class="kd">function</span> <span class="nx">print_message</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
          <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
        <span class="p">}</span>


        <span class="kd">function</span> <span class="nx">runEcho</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">sf_phonegap_plugin_demo_echo</span><span class="p">.</span><span class="nx">runJavaScriptFunction</span><span class="p">(</span><span class="s2">&quot;print_message&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;deviceready&#39;</span><span class="p">,</span> <span class="nx">runEcho</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

        <span class="nt">&lt;/script&gt;</span>

    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>현재 Android와 iOS 플러그인이 모두 설치가 되어 있는 상태이다. <strong>sf-phonegap-demo</strong> 프로젝트를 빌드하고 인스톨해보자.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd sf-phonegap-demo
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build android
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local install android
</code></pre></div>
<p><img src="http://cfile1.uf.tistory.com/image/251D834253292D5C105943" alt=""></p>

<p>정상적으로 Plugins이 설치가 되어서 동작하는 것을 확인할 수 있다. 이렇게 두 포스팅에 걸쳐서 iOS와 Android용 PhoneGap Plugins을 개발하는 방법을 살펴보았다.</p>

<h2 id="결론">결론</h2>

<p>PhoneGap은 하이브리드 앱을 개발하는 프레임워크이다. PhoneGap은 웹 자원(JavaScript)와 네이티브 자원(Objective-C, Java)이 서로 연동해서 사용하기 위해서는 PhoneGap Plugins을 사용해야한다. PhoneGap에서는 이미 많은 Plugins를 만들어서 배포하고 있고 개발자들이 Plugins을 만들어서 공유하고 있다. 만약 자신이 새롭게 하이브리드하게 앱을 개발하기 위해서 필요한 것들이 있으면 직접 Plugins을 만들어서 사용하면 된다. iOS는 <code>CDVPlugin</code>을 상속받아서 만들고 Android는 <code>org.apache.cordova.CordovaPlugin</code>을 상속받아서 만들면 된다. 그리고 다른 PhoneGap 프로젝트에서 Plugins을 설치해서 사용하기 위해서 <code>plugin.xml</code>에 source를 설정해주면 된다.</p>

<p>PhoneGap은 동일한 JavaScript 코드로 다른 플랫폼의 네이티브 코드로 접근이 가능하다. 서비스와 액션의 이름으로 JavaScript에서 네이티브 코드를 호출하기 때문이다. 이젠 PhoneGap을 이용해서 하이브리드하고 멀티플랫폼을 지원하는 앱을 만들 모든 준비를 마쳤다. PhoneGap은 아직 완벽하거나 안전하지 않다. 하지만 많은 부분의 개발을 편리하게 만들어두었고 무엇보다도 웹 개발 코드로 필요한 부분만 네이티브코드를 호출해서 사용하면 될 수 있는 환경을 지원한다. PhoneGap을 보면 볼수록 KT의 Appspresso가 얼마나 좋은 하이브리드 개발 플랫폼이였는지를 느끼게 된다. 지금은 멈추어진 프로젝트이지 개인적으로 다시 Appspresso 프로젝트가 진행되어 세계적으로 인정받고 편리한 하이브리드 앱 개발 플랫폼으로 부활되기 바래본다.</p>

<h2 id="참고">참고</h2>

<ol>
<li><a href="http://docs.phonegap.com/en/edge/guide_platforms_android_plugin.md.html#Android%20Plugins">http://docs.phonegap.com/en/edge/guide_platforms_android_plugin.md.html#Android%20Plugins</a></li>
<li><a href="http://devgirl.org/2013/09/17/how-to-write-a-phonegap-3-0-plugin-for-android/">http://devgirl.org/2013/09/17/how-to-write-a-phonegap-3-0-plugin-for-android/</a></li>
</ol>

<h2 id="연구원-소개">연구원 소개</h2>

<ul>
<li>작성자 : <a href="http://about.me/saltfactory">송성광</a> 개발 연구원</li>
<li>블로그 : <a href="http://blog.saltfactory.net">http://blog.saltfactory.net</a></li>
<li>이메일 : <a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
<li>트위터 : <a href="https://twitter.com/saltfactory">@saltfactory</a></li>
<li>페이스북 : <a href="https://facebook.com/salthub">https://facebook.com/salthub</a></li>
<li>연구소 : <a href="http://www.hibrain.net">하이브레인넷</a> 부설연구소</li>
<li>연구실 : <a href="http://dblab.changwon.ac.kr">창원대학교 데이터베이스 연구실</a></li>
</ul>

  </article>

  
  
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    
      var disqus_shortname = 'saltfactorynet';
    
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  
</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <!-- <h2 class="footer-heading">saltfactory's series</h2> -->

    <div class="footer-col-1 column">
      <ul>
        <li><a href="http://saltfactory.net">www.saltfactory.net</a></li>
        <li><a href="http://blog.saltfactory.net">blog.saltfactory.net</a></li>
        <li><a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/saltfactory">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
  <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
  c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
  c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
  c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
  C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
  c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
  c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
  c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
  c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
</svg>

            </span>
            <span class="username">saltfactory</span>
          </a>
        </li>

        <li>
          <a href="https://twitter.com/saltfactory">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
  <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
  c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
  c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
  C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
  c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
  c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
</svg>

            </span>
            <span class="username">saltfactory</span>
          </a>
        </li>

        <li>
          <a href="https://facebook.com/saltfactory">
            <span class="icon facebook">
          		<svg class="facebook-icon-svg" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <path d="M0.112290344,30 C0.112290344,13.4314567 13.3426506,0 29.663129,0 C45.9836073,0 59.2139676,13.4314567 59.2139676,30 C59.2139676,46.5685433 45.9836073,60 29.663129,60 C13.3426506,60 0.112290344,46.5685433 0.112290344,30 Z M0.112290344,30" fill="#C2C2C2" sketch:type="MSShapeGroup"></path>
	<path d="M32.1341457,46.3196729 L32.1341457,29.9980891 L36.5657565,29.9980891 L37.1530406,24.3735809 L32.1341457,24.3735809 L32.141675,21.5584604 C32.141675,20.091502 32.2787707,19.3054722 34.351206,19.3054722 L37.1216686,19.3054722 L37.1216686,13.6803271 L32.6894304,13.6803271 C27.3655995,13.6803271 25.491749,16.4088187 25.491749,20.9972835 L25.491749,24.3742179 L22.1732173,24.3742179 L22.1732173,29.998726 L25.491749,29.998726 L25.491749,46.3196729 L32.1341457,46.3196729 Z M32.1341457,46.3196729" id="Path" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
</svg>
		
        	</span>
        	<span class="username">salthub</span>
			</a>
        </li>

      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text"></p>
    </div>

  </div>

</footer>


	<script src="/series/assets/javascripts/jekyll-img-converter.js"></script>
    </body>
</html>
