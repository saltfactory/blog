<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PhoneGap 프로젝트에 플러그인 설치하기기 (PhoneGap CLI, Plugman)</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="">
    <link rel="canonical" href="/series/hybridapp/install-phonegap-plugin.html">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/series/assets/css/main.css">
    <!-- <link rel='stylesheet' type='text/css' href='/assets/css/main.css' /> -->

    
</head>


    <body>

    <header class="site-header">

  <div class="wrap">

    <a class="site-title" href="/series/">saltfactory's series</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        <a class="page-link" href="/">saltfactory.net</a>
        <a class="page-link" href="/guestbook">Guestbook</a>
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>PhoneGap 프로젝트에 플러그인 설치하기기 (PhoneGap CLI, Plugman)</h1>
    <p class="meta">Mar 12, 2014</p>
  </header>

  <article class="post-content">
  <h2 id="서론">서론</h2>

<p>이 블로그에서는 PhoneGap 을 사용해서 하이브리드 앱을 개발하는 방법을 연재하고 있다. 하이브리드 앱이라는 말은 단순히 웹 개발 기술로 앱을 만들 수 있는 프레임워크를 사용한다고 해서 하이브리드 앱을 개발한다고 말하기는 어렵다. 하이브리드는 말 그대로 웹 기술과 네이티브 기술이 함께 접목되어져서 개발할 수 있는 개발 방법인데 PhoneGap에서는 이러한 일을 Plugins를 추가해서 사용하거나 새롭게 Plugins를 개발해서 할 수 있다. 즉, Plugins는 웹 자원과 네이티브 자원이 서로 상호 작용할 수 있는 하나의 연결도구로 PhoneGap이 만든 특정 프로토콜로 웹과 네이티브의 자원이 서로 연동할 수 있게 해준다. 국내에서 유일했던 하이브리드 앱 개발 플랫폼인 Appspresso에서도 PDK(Plugin Development Kit)으로 플러그인을 개발해서 웹과 네이티브의 상호 통신을 할 수 있는 기능을 제공 했었다.(참조. <a href="http://blog.saltfactory.net/129">http://blog.saltfactory.net/129</a>) 우리는 지금부터 하이브리드 앱을 만들기 위해서 PhoneGap 프로젝트에 Plugins을 설치하는 방법을 살펴보기로 한다.</p>

<!--more-->

<h3 id="phonegap-cli를-이용해서-phonegap-plugins-설치하기">PhoneGap CLI를 이용해서 PhoneGap Plugins 설치하기</h3>

<p>PhoneGap을 사용하면서 가장 이상한것이 PhoneGap CLI와 Cordova CLI(command line interface)를 나누어서 사용하고 있다는 것이다. 쯥.. 두개가 사실 비슷한데 개발하고 있는 진영이 달라서 그렇다. PhoneGap은 Apache에 Cordova 라는 오픈소스 프로젝트로 PhoneGap을 두고 PhoneGap은 Cordova를 사용하고 있기 때문에 이런 이분화가 생기고 있다. 암튼, PhoneGap CLI로 설명을 하려고 한다. 우리는 앞에서 PhoneGap으로 <strong>sf-phonegap-demo</strong>라는 프로젝트를 만들었다.(만약 아직 PhoneGap 프로젝트를 만들지 않았다면 이글을 참조해서 프로젝트를 만들기 바란다. <a href="http://blog.saltfactory.net/228">http://blog.saltfactory.net/228</a>). <strong>sf-phonegap-demo</strong> 프로젝트 디렉토리 안을 살펴보자.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">ls -l sf-phonegap-demo/
</code></pre></div>
<p><img src="http://cfile27.uf.tistory.com/image/251B145053166C7A29CB4D" alt=""></p>

<p>PhoneGap  프로젝트 디렉토리 밑에는 plugins라는 디렉토가 존재한다. 이 디렉토리에 우리가 사용할 plugins를 저장하는데 최초 PhoneGap 프로젝트를 생성하면 아무런 plugin을 사용하지 않기 때문에 <code>/plugins</code> 디렉토리 안에는 아무런 plugin이 존재하지 않는다. PhoneGap CLI로 Plugins을 설치하는 방법은 다음과 같다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add {plugin repository}
</code></pre></div>
<p>웹 프로그램으로는 모바일 디바이스의 정보를 가져오는데 한계가 있다. 그래서 PhoneGap에서는 웹에서 디바이스의 정보를 가져오는 네이티브 코드를 plugin으로 만들어서 배포하고 있는데 Basic Device Information을 획득할 수 있는 <strong>cordova-plugin-device</strong> 플러그인을 추가해보자.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-device.git
</code></pre></div>
<p><img src="http://cfile2.uf.tistory.com/image/2720CB4653167079144199" alt=""></p>

<p>우리는 디바이스 정보를 가져오기 위한 <strong>org.apache.cordova.device</strong> 플러그인을 설치했는데 이것을 직접 웹 코드에서 사용해보자. org.apache.cordova.device 플러그인을 사용하기 위한 API는 다음에서 확인할 수 있다. <a href="http://cordova.apache.org/docs/en/3.3.0/cordova_device_device.md.html#Device">http://cordova.apache.org/docs/en/3.3.0/cordova_device_device.md.html#Device</a></p>

<p>/www/index.html 파일을 열어서 다음과 같이 수정하자.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">    Licensed to the Apache Software Foundation (ASF) under one</span>
<span class="c">    or more contributor license agreements.  See the NOTICE file</span>
<span class="c">    distributed with this work for additional information</span>
<span class="c">    regarding copyright ownership.  The ASF licenses this file</span>
<span class="c">    to you under the Apache License, Version 2.0 (the</span>
<span class="c">    &quot;License&quot;); you may not use this file except in compliance</span>
<span class="c">    with the License.  You may obtain a copy of the License at</span>

<span class="c">    http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="c">    Unless required by applicable law or agreed to in writing,</span>
<span class="c">    software distributed under the License is distributed on an</span>
<span class="c">    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<span class="c">     KIND, either express or implied.  See the License for the</span>
<span class="c">    specific language governing permissions and limitations</span>
<span class="c">    under the License.</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;format-detection&quot;</span> <span class="na">content=</span><span class="s">&quot;telephone=no&quot;</span> <span class="nt">/&gt;</span>
        <span class="c">&lt;!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 --&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;css/index.css&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
         <span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">&quot;deviceProperties&quot;</span><span class="nt">&gt;</span>Loading device properties...<span class="nt">&lt;/p&gt;</span>


        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;phonegap.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>

             <span class="kd">function</span> <span class="nx">onDeviceReady</span><span class="p">()</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;deviceProperties&#39;</span><span class="p">);</span>
                <span class="nx">element</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;Device Model: &#39;</span>    <span class="o">+</span> <span class="nx">device</span><span class="p">.</span><span class="nx">model</span>    <span class="o">+</span> <span class="s1">&#39;&lt;br /&gt;&#39;</span> <span class="o">+</span>
                                    <span class="s1">&#39;Device Cordova: &#39;</span>  <span class="o">+</span> <span class="nx">device</span><span class="p">.</span><span class="nx">cordova</span>  <span class="o">+</span> <span class="s1">&#39;&lt;br /&gt;&#39;</span> <span class="o">+</span>
                                    <span class="s1">&#39;Device Platform: &#39;</span> <span class="o">+</span> <span class="nx">device</span><span class="p">.</span><span class="nx">platform</span> <span class="o">+</span> <span class="s1">&#39;&lt;br /&gt;&#39;</span> <span class="o">+</span>
                                    <span class="s1">&#39;Device UUID: &#39;</span>     <span class="o">+</span> <span class="nx">device</span><span class="p">.</span><span class="nx">uuid</span>     <span class="o">+</span> <span class="s1">&#39;&lt;br /&gt;&#39;</span> <span class="o">+</span>
                                    <span class="s1">&#39;Device Version: &#39;</span>  <span class="o">+</span> <span class="nx">device</span><span class="p">.</span><span class="nx">version</span>  <span class="o">+</span> <span class="s1">&#39;&lt;br /&gt;&#39;</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;deviceready&quot;</span><span class="p">,</span> <span class="nx">onDeviceReady</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>이전에는 device라는 오브젝트가 없었지만 org.apache.cordova.device 플러그인을 설치한 이후는 device 객체가 생성되었음을 알 수 있을 것이다. PhoneGap 프로젝트를 다시 build하고 install 해보자.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build ios
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local install ios
</code></pre></div>
<p>위와 같이 웹에서 device에 접근하는 코드를 추가하고 난 뒤에 다시 PhoneGap 프로젝트를 빌드하고 설치하면 이젠 웹에서 네이티브의 디바이스 정보를 가져올 수 있는 것을 확인할 수 있다. 아래는 아이폰 시뮬레이터에서 디바이스 정보를 획득한 화면인다.</p>

<p><img src="http://cfile7.uf.tistory.com/image/252AC84B53167A2101BEFB" alt=""></p>

<p>그럼 Android 디바이스에도 하나의 코드로 동작하는지 살펴보자. 코드는 수정하지 않고 build와 install만 android로 변경해서 해보자.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local build android
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local install android
</code></pre></div>
<p><img src="http://cfile22.uf.tistory.com/image/2463E23353167F2813050E" alt=""></p>

<p>PhoneGap CLI를 실행해서 iOS와 android 디바이스의 정보를 가져오는 작업을 테스트해보았다. PhoneGap은 웹 기술로 네이티브 정보를 획득할 수 있다는 것을 확인했다. 다시 살펴보면 어떤 플랫폼인지 디바이스인지를 상관하지 않고 개발자는 웹 코드만 신경쓰고 작업하면 된다는 것이다. 웹 프로그램으로서는 디바이스의 자원을 사용할 수 없지만 PhoneGap에서는 Plugins 개념이라는 것을 사용해서 웹에서 접근할 수 있는 방법을 제공하고 있다.
PhoneGap에서 공식적으로 공개하고 있는 plugins은 다음과 같다.</p>

<p>1) Basic Device information (Device API)</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-device.git
</code></pre></div>
<p>2) Network connection</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-network-information.git
</code></pre></div>
<p>3) Battery Event</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-battery-status.git
</code></pre></div>
<p>4) Accelerometer</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-device-motion.git
</code></pre></div>
<p>5) Compass</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-device-orientation.git
</code></pre></div>
<p>6) Geolocation</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-geolocation.git
</code></pre></div>
<p>7) Camera</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-camera.git
</code></pre></div>
<p>8) Media</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-media.git
</code></pre></div>
<p>9) Media Capture</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-media-capture.git
</code></pre></div>
<p>10) Access File on Device(File API)</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-file.git
</code></pre></div>
<p>11) Access File on Network(File API)</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-file-transfer.git
</code></pre></div>
<p>12) Notification Dialog Box</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-dialogs.git
</code></pre></div>
<p>13) Notification Vibration</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-vibration.git
</code></pre></div>
<p>14) Contacts</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-contacts.git
</code></pre></div>
<p>15) Globalization</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-globalization.git
</code></pre></div>
<p>16) Splashscreen</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-splashscreen.git
</code></pre></div>
<p>17) Open new browser windows (InAppBrowser)</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-inappbrowser.git
</code></pre></div>
<p>18) Debug console</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-console.git
</code></pre></div>
<p>만약 플러그인을 삭제하고 싶으면 다음과 같이 하면 된다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin remove {플러그인 이름}
</code></pre></div>
<p>앞에서 설치한 org.apache.cordova.device 플러그인을 삭제해보자.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">phonegap local plugin remove org.apache.cordova.device
</code></pre></div>
<p><img src="http://cfile1.uf.tistory.com/image/263BE13F531683DA20A0F5" alt=""></p>

<h3 id="plugman-으로-phonegap-plugins-설치하기">Plugman 으로 PhoneGap Plugins 설치하기</h3>

<p>PhoneGap 3.3 이상부터는 <a href="http://docs.phonegap.com/en/4.0.0/plugin_ref_plugman.md.html">Plugman</a>을 이용해서 PhoneGap의 플러그인을 설치할 수 있다. Plugman은 phonegap CLI의 phonegap local plugin install은 PhoneGap 프로젝트로 개발할 수 있는 모든 플랫폼에 해당하는 Plugin을 설치하는 것과 달리, ios 플랫폼이나 android 플랫폼등 특정 프랫폼에 해당하는 Plugin만 설치할 수 있다. Plugman을 사용하려면 NPM으로 Plugman을 설치해야한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">npm install -g plugman
</code></pre></div>
<p>PhoneGap 프로젝트 디렉토리에서 다음과 같이 plugman을 이용해서 ios에 플랫폼에 해당하는 Plugin을 설치해보자. 기본적으로 plugman을 사용하려면 다음과 같은 입력해야한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">plugman install --platform {플랫폼(ios, android)} --project {플랫폼의 프로젝트 디렉토리} --plugin {플러그인 소스 위치}
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">plugman install --platform ios --project ./platforms/ios --plugin https://git-wip-us.apache.org/repos/asf/cordova-plugin-device.git
</code></pre></div>
<p>이렇게 plugman으로 특정 플랫폼에 Plugin을 설치하면 다음과 같은 경로에 Plugin에 관련된 파일들이 생성이 된다.</p>

<p>1) ./platforms/ios/plugins/{Plugin ID 이름으로 만들어진 디렉토리}</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">예) ./platforms/ios/plugins/org.apache.cordova.device
</code></pre></div>
<p>2) ./platforms/ios/{XcodeProject}/Plugins/{Plugin ID 이름으로 만들어진 디렉토리}</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">./platforms/ios/SF-PhoneGap-Demo/Plugins/org.apache.cordova.device
</code></pre></div>
<p>3) ./platforms/ios/cordova_plugins.js 설정 추가</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">cordova</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;cordova/plugin_list&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">require</span><span class="p">,</span> <span class="nx">exports</span><span class="p">,</span> <span class="nx">module</span><span class="p">)</span> <span class="p">{</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;file&quot;</span><span class="o">:</span> <span class="s2">&quot;plugins/org.apache.cordova.device/www/device.js&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;org.apache.cordova.device.device&quot;</span><span class="p">,</span>
        <span class="s2">&quot;clobbers&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;device&quot;</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">];</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">metadata</span> <span class="o">=</span>
<span class="c1">// TOP OF METADATA</span>
<span class="p">{</span>
    <span class="s2">&quot;org.apache.cordova.device&quot;</span><span class="o">:</span> <span class="s2">&quot;0.2.8&quot;</span>
<span class="p">}</span>
<span class="c1">// BOTTOM OF METADATA</span>
<span class="p">});</span>
</code></pre></div>
<p>plugman은 특정 registry 안에서 Plugins을 검색할 수 있고 정보도 확인할 수 있다.</p>

<blockquote>
<p>plugman을 사용할 때, 주의할 것은 plugman search와 plugman info 명령어로 가능한데 현재 npm의 다운로드 최고 버전인 0.20.2에서는 이 두가지 명령어가 무조건 undefined를 발생하는 버그가 있다.</p>
</blockquote>

<p>만약 plugman 버전이 0.20.2일 경우 가장 최근 버전으로 (현재 개발 최고 버전은 0.20.3-dev) 재설치하기 바란다.</p>

<p>plugman의 버전을 확인한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">plugman -v
</code></pre></div>
<p>plugman의 버전이 0.20.2일 경우, plugman을 제거한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">npm remove -g plugman
</code></pre></div>
<p>plugman의 가장 최근 소스를 받아온다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git clone https://git-wip-us.apache.org/repos/asf/cordova-plugman.git
</code></pre></div>
<p>plugman 소스 디렉토리로 이동한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd cordova_plugman
</code></pre></div>
<p>plugman을 전역에서 사용할 수 있도록 설치한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">npm install -g
</code></pre></div>
<p>이제 plugman으로 여러가지 등록된 플러그인을 검색할 수 있다. device에 관련된 플러그인을 검사할 때 다음과 plugman search를 사용한다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">plugman search device
</code></pre></div>
<p><img src="http://cfile29.uf.tistory.com/image/2272AB41531EACB42481BA" alt=""></p>

<p>plugman search는 <a href="http://plugins.cordova.io">http://plugins.cordova.io</a> 라는 plugins 저장소에서 등록된 Plugins을 검색하게 해준다. 마치 npm이나 homebrew를 사용하는 것과 유사하다. 이 곳에 등록된 Plugin을 설치하기 위해서는 위에서와 같이 URI 경로를 모두 입력할 필요없이 다음과 같이 plugin의 ID로 설치가 가능하다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">plugman install --platform ios --project ./platforms/ios --plugin org.apache.cordova.device
</code></pre></div>
<p>현재 registry에 등록되어 있는 Plugin의 정보를 plugman info {Plugin ID}로 확인할 수 있다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">plugman info org.apache.cordova.device
</code></pre></div>
<p><img src="http://cfile29.uf.tistory.com/image/2268564C531EAFC3227B56" alt=""></p>

<p>이렇게 Plugman으로 PhoneGap의 Plugins을 설치할 수 있다. 하지만 아직 Plugman으로 설치한 Plugin을 PhoneGap CLI로 빌드하면 사용할 수 있는 방법이 명확하지 않다.</p>

<p>현재 Plugman으로 테스트하면서 겪게된 문제는 다음과 같다. (만약 이 문제에 대해서 해결 방법을 아는 개발자나 연구원은 피드백을 주면 감사하겠습니다.)</p>

<blockquote>
<p>Plugman으로 Plugins을 설치하고 phonegap local build ios를 했을 때 PhoneGap이 Plugins을 사용하기 위해서 설정하는 ./platforms/ios/cordova_plugins.js가 초기화 되어 버리고 ./platforms/ios/plugins 디렉토리가 삭제되어 버린다. 하지만 Plugins의 네이티브 코드가 저장되어 있는 ./platforms/ios/{Xcode 프로젝트 디렉토리}/Plugins 디렉토리는 존재한다. 이런 이유 때문에 Plugman으로 Plugins을 설치후 PhoneGap CLI로 phonegap local build ios를 하면 Plugins을 사용할 수 있는 javascript가 올라오지 않는 문제가 있다. 아직 PhoneGap CLI가 이것을 처리하지 못하는 버그인지는 모르겠지만 현재 PhoneGap CLI 버전인 3.4.0-0.19.7 버전에서는 Plugman으로 설치한 Plugins을 로드하지 못하는 문제가 있다.</p>
</blockquote>

<h2 id="결론">결론</h2>

<p>PhoneGap은 PhoneGap CLI를 Node.js로 마이그레이션 했다. 실제 PhoneGap CLI를 npm으로 설치하고 파일을 살펴보면 node.js를 사용하고 있다는 것을 알 수 있다. PhoneGap CLI 동작 역시 Node.js 기반으로 동작한다. PhoneGap과 Cordova의 CLI는 Node.js로 만들어진만큼 Node.js의 라이브러리들을 사용해서 수정하거나 추가 개발할 수도 있다. PhoneGap 프로젝트에 Plugin을 설치하기 위해서 PhoneGap CLI를 이용하는 방법과 Plugman을 이용해서 설치하는 두가지 방법이 존재한다. PhoneGap CLI이 Node.js를 사용하듯 PhoneGap의 Plugins 역시 Node.js의 모듈을 관리하는 NPM 처럼 Plugman을 이용해서 Plugins을 관리하려고 하는 것 같다. 하지만 아직 Plugman은 버그가 많아서 실제 적용하기에는 무리가 있어보인다. NPM으로 배포하고 있는 Plugman 은 아직 plugman search와 plugman info등 plugman의 기능이 제대로 실행되지 않고, 현재 PhoneGap CLI에서는 Plugman으로 특정 플랫폼에 설치한 Plugins을 적용하기 위해 phonegap local build로 빌드하면 Plugins이 로드되지 않는 버그가 있다. 하지만 PhoneGap CLI로 Plugin을 설치하는데는 모든 플랫폼에 적용되는 Plugins을 한번에 설치하는 것이기 때문에 특정 플랫폼에 Plugins을 적용하거나 개발하기에는 Plugman이 더 유용할 것이라고 예상된다. 아직은 개발 단계인것 같다. Plugman이 보다 안정되고 PhoneGap CLI와 연동이 잘 이루어진다면 PhoneGap CLI로 Plugins을 설치하는 것 보다 편리하게 사용할 수 있을 것 같다.</p>

<p>PhoneGap의 궁극적 목표는 하나의 웹 코드로 여러가지 플랫폼에 동작하는 앱을 만들어 내는 것이다. 그렇기 위해서는 웹 코드와 네이트 코드를 플러그인으로 만들어서 사용해야하는데 PhoneGap에서 공식적으로 지원하고 있는 Plugins 말고도 <a href="http://plugins.cordova.io%EC%97%90">http://plugins.cordova.io에</a> 사용자들이 플러그인을 개발해서 등록할 수 있다. 이 때 역시 plugman을 이용해서 npm에 Node.js 모듈을 등록하는 것과 유사하게 할 수 있다. Plugins이 많다는 것은 웹 코드만 신경쓰고 네이티브 코드를 작성하지 않아도 된다는 말이다. 그래서 Plugins의 각각 사용법 역시 중요한데 Plugins의 사용법에 대해서는 이후에 Plugins을 사용하면서 포스팅으로 소개할 예정이다.</p>

<h2 id="참고">참고</h2>

<ol>
<li><a href="http://docs.phonegap.com/en/edge/guide_cli_index.md.html#The%20Command-Line%20Interface">http://docs.phonegap.com/en/edge/guide_cli_index.md.html#The%20Command-Line%20Interface</a></li>
<li><a href="http://docs.phonegap.com/en/3.4.0/plugin_ref_plugman.md.html#Using%20Plugman%20to%20Manage%20Plugins">http://docs.phonegap.com/en/3.4.0/plugin_ref_plugman.md.html#Using%20Plugman%20to%20Manage%20Plugins</a></li>
<li><a href="http://qnibus.com/blog/phonegap-3-0-%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95/">http://qnibus.com/blog/phonegap-3-0-사용-방법/</a></li>
</ol>

<h2 id="연구원-소개">연구원 소개</h2>

<ul>
<li>작성자 : <a href="http://about.me/saltfactory">송성광</a> 개발 연구원</li>
<li>블로그 : <a href="http://blog.saltfactory.net">http://blog.saltfactory.net</a></li>
<li>이메일 : <a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
<li>트위터 : <a href="https://twitter.com/saltfactory">@saltfactory</a></li>
<li>페이스북 : <a href="https://facebook.com/salthub">https://facebook.com/salthub</a></li>
<li>연구소 : <a href="http://www.hibrain.net">하이브레인넷</a> 부설연구소</li>
<li>연구실 : <a href="http://dblab.changwon.ac.kr">창원대학교 데이터베이스 연구실</a></li>
</ul>

  </article>

  
  
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    
      var disqus_shortname = 'saltfactorynet';
    
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  
</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <!-- <h2 class="footer-heading">saltfactory's series</h2> -->

    <div class="footer-col-1 column">
      <ul>
        <li><a href="http://saltfactory.net">www.saltfactory.net</a></li>
        <li><a href="http://blog.saltfactory.net">blog.saltfactory.net</a></li>
        <li><a href="mailto:saltfactory@gmail.com">saltfactory@gmail.com</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/saltfactory">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
  <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
  c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
  c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
  c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
  C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
  c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
  c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
  c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
  c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
</svg>

            </span>
            <span class="username">saltfactory</span>
          </a>
        </li>

        <li>
          <a href="https://twitter.com/saltfactory">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
  <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
  c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
  c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
  C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
  c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
  c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
</svg>

            </span>
            <span class="username">saltfactory</span>
          </a>
        </li>

        <li>
          <a href="https://facebook.com/saltfactory">
            <span class="icon facebook">
          		<svg class="facebook-icon-svg" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
    <path d="M0.112290344,30 C0.112290344,13.4314567 13.3426506,0 29.663129,0 C45.9836073,0 59.2139676,13.4314567 59.2139676,30 C59.2139676,46.5685433 45.9836073,60 29.663129,60 C13.3426506,60 0.112290344,46.5685433 0.112290344,30 Z M0.112290344,30" fill="#C2C2C2" sketch:type="MSShapeGroup"></path>
	<path d="M32.1341457,46.3196729 L32.1341457,29.9980891 L36.5657565,29.9980891 L37.1530406,24.3735809 L32.1341457,24.3735809 L32.141675,21.5584604 C32.141675,20.091502 32.2787707,19.3054722 34.351206,19.3054722 L37.1216686,19.3054722 L37.1216686,13.6803271 L32.6894304,13.6803271 C27.3655995,13.6803271 25.491749,16.4088187 25.491749,20.9972835 L25.491749,24.3742179 L22.1732173,24.3742179 L22.1732173,29.998726 L25.491749,29.998726 L25.491749,46.3196729 L32.1341457,46.3196729 Z M32.1341457,46.3196729" id="Path" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
</svg>
		
        	</span>
        	<span class="username">salthub</span>
			</a>
        </li>

      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text"></p>
    </div>

  </div>

</footer>


	<script src="/series/assets/javascripts/jekyll-img-converter.js"></script>
    </body>
</html>
